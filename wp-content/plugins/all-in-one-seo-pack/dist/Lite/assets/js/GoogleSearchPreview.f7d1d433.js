import{F as L,H as R,I as m,J as k,K as x,b as d}from"./app-core.61d75c0b.js";import{S as T}from"./Caret.c4a084e6.js";import{u as N}from"./Url.049479ea.js";import{as as q,f as o,i as n,j as s,U as a,ae as S,O as g,ad as w,M as u,a0 as V,P as H,ay as M}from"./vendor-vue-ui.d70c869f.js";import{_ as U}from"./_plugin-vue_export-helper.eefbdd86.js";import{c as y,a as j,_ as v}from"./vendor-other.2cdd5822.js";const c="all-in-one-seo-pack",f={setup(){const{decodeUrl:e}=N();return{decodeUrl:e,sanitizeString:m}},components:{SvgCaret:T},props:{focusKeyphrase:String,device:{type:String,default:"desktop"},favicon:String,hostname:{type:String,default(){const e=d();return e.aioseo.data.siteName||e.aioseo.urls.domain}},url:{type:String,default(){return d().aioseo.urls.home}},title:String,description:String,richResults:Object},data(){return{strings:{free:v("Free",c),rating:v("Rating",c),prosCons:v("Pros and cons include",c),viewFullList:v("View full list",c)}}},computed:{faq(){const e=this.richResults?.faq||[];return Array.isArray(e)&&e.length?e:[]},reviewSnippet(){const t={...{bestRating:null,ratingValue:null,reviewCount:null,ratingCount:null,priceCurrency:null,price:null,priceFrom:null,priceTo:null,prosConsNotes:[]},...this.richResults?.reviewSnippet||{}};if(Object.values(t).every(r=>r===null)||!t.reviewCount&&!t.ratingCount)return{};for(const[r,_]of Object.entries(t))if(["bestRating","ratingValue"].includes(r)&&(5<_||_===null))return{};return t.price=isNaN(parseFloat(t.price))?null:parseFloat(t.price).toFixed(2),t.priceFrom=isNaN(parseFloat(t.priceFrom))?null:parseFloat(t.priceFrom).toFixed(2),t.priceTo=isNaN(parseFloat(t.priceTo))?null:parseFloat(t.priceTo).toFixed(2),t},yellowStarsWidth(){return`${this.reviewSnippet.ratingValue*100/5}%`},urlBreadcrumbs(){try{const e=new URL(this.url),t=this.decodeUrl(e.pathname);let r=e.hostname+t.replace(/\/$/,"");return r=r.substring(0,50).trim()+(50<r.length?"...":""),`${e.protocol}//`+r.replaceAll("/"," &rsaquo; ")}catch{return""}},parseFavicon(){const e=d();let t=`https://www.google.com/s2/favicons?sz=64&domain=${e.aioseo.urls.domain}`;try{t=new URL(this.favicon||"").href}catch{e.aioseo.data?.isDev&&(t=`${e.aioseo.urls.home}/favicon.ico`)}return t},parseDescription(){const e=m(k(this.description.substring(0,160).trim()+(160<this.description.length?" ...":""),!1));if(!this.focusKeyphrase)return e;const t=this.focusKeyphrase.split(" ").map(x),r=new RegExp("\\b"+t.join("\\b|\\b")+"\\b","gi");return e.replace(r,"<strong>$&</strong>")}},methods:{getReviewSnippetPriceLabel(){if(parseFloat(this.reviewSnippet.price)===0&&!this.reviewSnippet.priceTo)return this.strings.free;if(this.reviewSnippet.priceCurrency){const e=R.find(t=>t.value===this.reviewSnippet.priceCurrency)||{};return this.reviewSnippet.priceFrom&&this.reviewSnippet.priceTo?`${e?.symbol}${this.reviewSnippet.priceFrom} - ${e?.symbol}${this.reviewSnippet.priceTo}`:`${e?.symbol}${this.reviewSnippet.price}`}return`$${this.reviewSnippet.price}`},getReviewSnippetCountLabel(){if(this.device==="desktop"){const e=this.reviewSnippet.ratingCount||this.reviewSnippet.reviewCount,t=this.reviewSnippet.ratingCount?y("vote","votes",e,c):y("review","reviews",e,c);return j(v("%1$s %2$s",c),e,t)}return`(${this.reviewSnippet.ratingCount||this.reviewSnippet.reviewCount})`},truncate:L}},b=()=>{M(e=>({v2e47ee92:e.yellowStarsWidth}))},C=f.setup;f.setup=C?(e,t)=>(b(),C(e,t)):b;const P={class:"aioseo-google-search-preview__main"},z={class:"aioseo-google-search-preview__favicon"},A={class:"favicon-wrapper"},O=["src"],B={class:"aioseo-google-search-preview__location"},D={class:"hostname text-truncate"},K=["innerHTML"],E={class:"aioseo-google-search-preview__title"},I=["innerHTML"],W={key:0,class:"aioseo-google-search-preview__pros-cons"},G={class:"aioseo-google-search-preview__pros-cons__description"},J={class:"aioseo-google-search-preview__pros-cons__view-full-list"},Y={key:1,class:"aioseo-google-search-preview__review-snippet"},Q={class:"aioseo-google-search-preview__review-snippet__rating"},X={class:"aioseo-google-search-preview__review-snippet__count bullet"},Z={key:0,class:"aioseo-google-search-preview__review-snippet__price bullet"},$={key:2,class:"aioseo-google-search-preview__anchor"},ee={class:"aioseo-google-search-preview__anchor__link"},te={key:0,class:"aioseo-google-search-preview__anchor__bullet"},se={key:3,class:"aioseo-google-search-preview__faq"},re={class:"aioseo-google-search-preview__faq__question",role:"button"},ie=["innerHTML"],oe=["innerHTML"];function ne(e,t,r,_,h,i){const F=q("svg-caret");return o(),n("div",{class:H(["aioseo-google-search-preview",`aioseo-google-search-preview--${r.device}`])},[s("div",P,[s("div",z,[s("div",A,[s("img",{src:i.parseFavicon,alt:"Favicon",loading:"lazy",decoding:"async",height:"18",width:"18"},null,8,O)])]),s("div",B,[s("div",D,a(r.hostname.replace(/^(m|www)\./,"")),1),s("div",{class:"url text-truncate",innerHTML:i.urlBreadcrumbs},null,8,K)]),s("div",E,a(r.title.substring(0,70).trim()+(r.title.length>70?" ...":"")),1),s("div",{class:"aioseo-google-search-preview__description",innerHTML:i.parseDescription},null,8,I)]),(i.reviewSnippet.prosConsNotes||[])?.length?(o(),n("div",W,[S(a(h.strings.prosCons)+": ",1),(o(!0),n(g,null,w(i.reviewSnippet.prosConsNotes.slice(0,10),(l,p)=>(o(),n(g,{key:`pros-cons-${p}`},[s("span",G,a(l),1),t[0]||(t[0]=s("span",null," ",-1)),t[1]||(t[1]=s("span",{class:"bullet"},null,-1))],64))),128)),s("span",J,a(h.strings.viewFullList),1)])):u("",!0),Object.values(i.reviewSnippet).length?(o(),n("div",Y,[t[2]||(t[2]=s("div",{class:"aioseo-google-search-preview__review-snippet__stars"},[s("div")],-1)),s("div",Q,[s("span",null,a(h.strings.rating)+":",1),S(" "+a(parseFloat(i.reviewSnippet.ratingValue).toFixed(2)),1)]),s("div",X,a(i.getReviewSnippetCountLabel()),1),i.reviewSnippet?.price!==null?(o(),n("div",Z,a(i.getReviewSnippetPriceLabel()),1)):u("",!0)])):u("",!0),r.richResults?.anchorLinks?.length?(o(),n("div",$,[(o(!0),n(g,null,w(r.richResults.anchorLinks,(l,p)=>(o(),n(g,{key:`anchor-${p}`},[s("span",ee,a(i.truncate(l,30)),1),p!==r.richResults.anchorLinks.length-1?(o(),n("span",te," • ")):u("",!0)],64))),128))])):u("",!0),Object.values(i.faq).length?(o(),n("div",se,[(o(!0),n(g,null,w(i.faq.slice(0,3),(l,p)=>(o(),n("details",{key:`faq-${p}`,class:"aioseo-google-search-preview__faq__container"},[s("summary",re,[s("span",{class:"text-truncate",innerHTML:i.truncate(_.sanitizeString(l.question),60)},null,8,ie),V(F,{width:"20"})]),s("span",{class:"aioseo-google-search-preview__faq__answer",innerHTML:_.sanitizeString(l.answer)},null,8,oe)]))),128))])):u("",!0)],2)}const ge=U(f,[["render",ne],["__scopeId","data-v-8ea5ae53"]]);export{ge as C};
