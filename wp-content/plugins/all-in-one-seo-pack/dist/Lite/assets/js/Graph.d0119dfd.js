const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.__aioseoDynamicImportPreload__("js/vendor-charts.9ad7bb77.js"),window.__aioseoDynamicImportPreload__("js/vendor-other.2cdd5822.js"),window.__aioseoDynamicImportPreload__("js/vendor-vue-ui.d70c869f.js"),window.__aioseoDynamicImportPreload__("css/vendor-vue-ui.dbee72c8.css")])))=>i.map(i=>d[i]);
import{Q as h,n as l,L as m,_ as w,b as k}from"./app-core.61d75c0b.js";import{C as b}from"./Button.7fa2ada4.js";import{a as v}from"./Tooltip.7f0ce0d2.js";import{_ as g}from"./_plugin-vue_export-helper.eefbdd86.js";import{f as c,i as x,as as d,a0 as u,P as M,Q as f,M as p,R as D,j as C,aj as S}from"./vendor-vue-ui.d70c869f.js";const A={};function P(e,r){return c(),x("div")}const T=g(A,[["render",P]]),I=""+window.__aioseoDynamicImportPreload__("svg/google.826e7131.svg"),L=""+window.__aioseoDynamicImportPreload__("svg/wordpress.8166fa94.svg"),E=""+window.__aioseoDynamicImportPreload__("svg/aioseo.da6097fa.svg"),F={setup(){return{rootStore:k()}},components:{apexchart:S(()=>w(()=>import("./vendor-charts.9ad7bb77.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),CoreLoader:b,CorePopper:v,GraphTimelineMarkers:T},props:{series:{type:Array,required:!0},chartOverrides:{type:Object,default:()=>({})},height:{type:Number,default(){return 350}},legendStyle:{type:String,default(){return"custom"}},loading:{type:Boolean,default:!1},timelineMarkers:{type:Object,default:()=>({})},multiAxis:Boolean,preset:String,invertYAxis:Boolean},data(){return{isMounted:!1,reversedYAxis:!1,colors:["#005AE0","#00AA63","#F18200","#DF2A4A","#8B5CF6","#D946EF"],presets:{overview:{chart:{type:"area",sparkline:{enabled:!0}},grid:{show:!1,padding:{top:2,right:2,bottom:0,left:2}},xaxis:{show:!1},yaxis:{show:!1,labels:{show:!1,formatter:e=>e?l.compactNumber(e):0}}},keywordsDistribution:{chart:{type:"bar",zoom:{enabled:!1},toolbar:{show:!1}},fill:{type:"solid"},stroke:{width:0},xaxis:{type:"category"},yaxis:{forceNiceScale:!1,tickAmount:2,max:100,labels:{formatter:e=>e.toFixed(0)+"%"}},tooltip:{}}},timelineMarkersDate:null}},computed:{getSeries(){const e=this.series;if(!this.invertYAxis||!e.length)return e;const r=e[0].data.map(s=>s.y),t=[];let o=r.map((s,n)=>({value:s,index:n})).sort((s,n)=>s.value-n.value);const i=s=>(t[s[0].index]=s[s.length-1].value,t[s[s.length-1].index]=s[0].value,s=s.slice(1,s.length-1),s);for(;o.length;)o=i(o);return e[0].data=e[0].data.map((s,n)=>({...s,y:t[n],label:s.y})),e},chartDefaults(){const e=this.series;return{colors:this.colors,chart:{type:"area",zoom:{enabled:!1},toolbar:{show:!1},animations:{enabled:!0,easing:"easeout",speed:600,animateGradually:{enabled:!0,delay:50}},parentHeightOffset:0},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.4,opacityTo:.9,stops:[0,100]}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},title:{show:!1},grid:{show:!0,strokeDashArray:0,borderColor:"#D0D1D7",yaxis:{lines:{show:!0}},xaxis:{lines:{show:!1}},padding:{top:20,right:20,bottom:20,left:20}},xaxis:{type:"datetime",labels:{show:!0,minHeight:35,trim:!1,rotateAlways:!1,offsetY:6,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"d MMM",hour:""}},tooltip:{enabled:!1,x:{formatter:(r,t)=>{const a=new Date(`${e[t.seriesIndex]?.data[t.dataPointIndex]?.x} 00:00:00`);return m(a,this.rootStore.aioseo.data.dateFormat)}}},axisBorder:{show:!0,color:"#D0D1D7",height:1,width:"100%",offsetX:0,offsetY:0},axisTicks:{show:!0,borderType:"solid",color:"#E8E8EB",height:12,offsetX:0,offsetY:0}},yaxis:[{labels:{show:!0,formatter:(r,t,a)=>{if(!this.invertYAxis||!a?.config)return r?l.compactNumber(r):0;const o=[...a?.globals?.yAxisScale[0].result].reverse();return o[t]&&(r=o[t]),r?l.compactNumber(r):0}}}],tooltip:{enabled:!0,x:{formatter:(r,t)=>{const a=new Date(`${e[t.seriesIndex]?.data[t.dataPointIndex]?.x} 00:00:00`);return m(a,this.rootStore.aioseo.data.dateFormat)}},y:{formatter:(r,t)=>this.invertYAxis&&e[t.seriesIndex]?.data[t.dataPointIndex].label?e[t.seriesIndex]?.data[t.dataPointIndex].label:l.compactNumber(e[t.seriesIndex]?.data[t.dataPointIndex].y)}},legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,position:"bottom",horizontalAlign:"center",floating:!1,fontSize:"14px",fontWeight:400,formatter:(r,t)=>{const a=e[t.seriesIndex]?.legend?.name||r;if(this.legendStyle==="simple")return[a];let o=e[t.seriesIndex]?.legend?.total||"";return isNaN(o)||(o=l.compactNumber(o)),[`<strong>${o}</strong>`,a]},inverseOrder:!1,width:void 0,height:void 0,tooltipHoverFormatter:void 0,customLegendItems:[],offsetX:0,offsetY:0,markers:{width:16,height:16,strokeWidth:0,strokeColor:"#fff",fillColors:void 0,radius:16,customHTML:()=>this.legendStyle==="simple"?"":'<span class="marker-checkbox"><svg viewBox="0 0 14 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.8542 1.37147C11.44 0.785682 12.3897 0.785682 12.9755 1.37147C13.5613 1.95726 13.5613 2.907 12.9755 3.49279L6.04448 10.4238C5.74864 10.7196 5.35996 10.8661 4.97222 10.8631C4.58548 10.8653 4.19805 10.7189 3.90298 10.4238L1.0243 7.5451C0.438514 6.95931 0.438514 6.00956 1.0243 5.42378C1.61009 4.83799 2.55983 4.83799 3.14562 5.42378L4.97374 7.2519L10.8542 1.37147Z" fill="currentColor" /></svg></span>',onClick:void 0,offsetX:0,offsetY:0},itemMargin:{horizontal:0,vertical:0},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},annotations:{points:this.annotationsPoints}}},multiAxisDefaults(){const e=this.series,r={yaxis:[]};return e.forEach((t,a)=>{r.yaxis.push({title:{text:t.name.replace("Search ","")},seriesName:t.name,opposite:a===1,labels:{show:!0,formatter:o=>o?l.compactNumber(o):0}})}),r},annotationsPoints(){const e=[];return this.timelineMarkers&&Object.keys(this.timelineMarkers).forEach(r=>{const t={x:new Date(r).getTime(),y:0,yAxisIndex:0,seriesIndex:0,mouseEnter:(o,i)=>{let s=i.target;i.relatedTarget.tagName.toLowerCase()==="circle"&&(s=i.relatedTarget),this.timelineMarkersDate=r,this.showTimelineMarkersTooltip(s)},mouseLeave:(o,i)=>{i.toElement.className==="string"&&i.toElement.className.includes("popper")||this.$refs.timelineMarkersPopper.doClose()},label:{text:this.timelineMarkers[r].length,borderWidth:0,offsetY:23,style:{background:"transparent",color:"#141B38",fontSize:"12px",fontWeight:700}},marker:{size:12,strokeWidth:1,strokeColor:"#D0D1D7",cssClass:"marker-circle"},image:{width:17,height:17}},a=this.timelineMarkers[r].map(o=>o.type);if(a.length===1)switch(t.label={},a[0]){case"aioseoRevision":t.image.path=h(E);break;case"googleUpdate":t.image.path=h(I);break;case"wpRevision":t.image.path=h(L);break}e.push(t)}),e},chartPreset(){return this.preset&&this.presets[this.preset]?this.presets[this.preset]:{}},chartOptions(){let e={...this.chartDefaults,...this.chartPreset,...this.chartOverrides};return this.multiAxis&&(e={...e,...this.multiAxisDefaults}),e},chartClasses(){const e=this.series.length;let r=4;return 4<e&&(r=3),[this.loading?"blurred":"",this.preset?this.preset:"",`legend-${this.legendStyle}`,`legend-columns-${r}`].filter(t=>t).map(t=>"aioseo-graph-"+t)}},methods:{handleTimelineMarkersTooltip(e){e.referenceElm?.classList.remove("active-point"),e.showPopper&&e.referenceElm?.classList.add("active-point")},handleTimelineMarkersTooltipUpdate(e){const r=this.$refs.timelineMarkersPopper;r.updatePopper(),e.modal?r.doClose():r.doShow(),this.handleTimelineMarkersTooltip(r)},showTimelineMarkersTooltip(e){const r=this.$refs.timelineMarkersPopper;r.referenceElm?.classList.remove("active-point"),e?.classList.add("active-point"),r.destroyPopper(),r.doDestroy(),r.referenceElm=e,r.createPopper(),r.doShow()}},mounted(){this.isMounted=!0},beforeUnmount(){this.isMounted=!1}},N={key:0,class:"aioseo-graph"},B={class:"popper"};function Y(e,r,t,a,o,i){const s=d("apexchart"),n=d("core-loader"),y=d("graph-timeline-markers"),_=d("core-popper");return o.isMounted?(c(),x("div",N,[u(s,{width:"100%",height:t.height,ref:"apexchart",options:i.chartOptions,series:i.getSeries,class:M(i.chartClasses)},null,8,["height","options","series","class"]),t.loading?(c(),f(n,{key:0,dark:""})):p("",!0),u(_,{ref:"timelineMarkersPopper",options:{placement:"top"},onShow:i.handleTimelineMarkersTooltip,onHide:i.handleTimelineMarkersTooltip},{default:D(()=>[C("span",B,[o.timelineMarkersDate?(c(),f(y,{key:0,date:o.timelineMarkersDate,timelineMarkers:t.timelineMarkers,onUpdate:i.handleTimelineMarkersTooltipUpdate},null,8,["date","timelineMarkers","onUpdate"])):p("",!0)])]),_:1},8,["onShow","onHide"])])):p("",!0)}const R=g(F,[["render",Y]]);export{R as G};
