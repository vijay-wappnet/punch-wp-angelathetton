import{as as h,f as o,i,Q as S,M as l,j as s,U as d,a0 as A,O as D,ad as G,R as M,ae as L,r as w,w as V,b as W,v as r,T as I,u as p}from"./vendor-vue-ui.d70c869f.js";import{Q,d as Y,b as B,y as H,N as q,x as J,M as K}from"./app-core.61d75c0b.js";import{u as P}from"./SeoSiteScore.a08bd642.js";import{g as U}from"./utils.51785cc7.js";import{C as X}from"./Blur.d9f10327.js";import{i as Z}from"./iphone-frame.d53c95ea.js";import{C as $}from"./DonutChart.4dd7eab2.js";import{C as ee}from"./Index.74a77fdc.js";import{S as oe}from"./Book.b8e27bdf.js";import{S as se}from"./Lab.c77a19cd.js";import{_ as te}from"./_plugin-vue_export-helper.eefbdd86.js";import{m as re}from"./vendor-lodash.f9514987.js";import{_ as f,a as O}from"./vendor-other.2cdd5822.js";const v="all-in-one-seo-pack",ne={setup(k){const{errorObject:u,strings:a}=P({score:w(k.score)});return{analyzerStore:H(),rootStore:B(),composableStrings:a,errorObject:u,links:Y,getAssetUrl:Q,iphoneFrame:Z}},components:{CoreDonutChart:$,CoreSiteScore:ee,SvgBook:oe,SvgDannieLab:se},props:{score:[Number,String],loading:Boolean,description:String,summary:{type:Object,default(){return{}}}},data(){return{strings:re({yourHomepageScore:f("Your Homepage Score:",v),goodResult:O(f("A very good score is between %1$s%3$d and %4$d%2$s.",v),"<strong>","</strong>",50,75),forBestResults:O(f("For best results, you should strive for %1$s%3$d and above%2$s.",v),"<strong>","</strong>",70),readUltimateSeoGuide:f("Read the Ultimate WordPress SEO Guide",v)},this.composableStrings)}},computed:{sortedParts(){return U({good:this.summary.good,warnings:this.summary?.warnings||this.summary?.recommended,issues:this.summary?.issues||this.summary?.critical,total:this.summary?.total||this.summary?.good+this.summary?.recommended+this.summary?.critical})}}},ae={class:"aioseo-seo-analysis"},ie={key:0,class:"seo-analysis-score"},ce={key:1,class:"seo-analysis-description"},le={key:0,class:"seo-analysis-homepage-url"},ue=["href"],me=["innerHTML"],de=["innerHTML"],_e={class:"d-flex"},pe=["href"],ge={key:2,class:"seo-analysis-mobile-snapshot"},ye={class:"mobile-snapshot-image"},he=["src"],Se=["src"],fe={key:3,class:"seo-analysis-error"},ve={class:"error-title"},ke=["innerHTML"],be={class:"error-action-buttons"};function Ce(k,u,a,e,m,n){const b=h("core-site-score"),_=h("core-donut-chart"),C=h("svg-book"),g=h("svg-dannie-lab"),y=h("base-button");return o(),i("div",ae,[e.analyzerStore.analyzeError?l("",!0):(o(),i("div",ie,[a.loading?(o(),S(b,{key:0,loading:!0,score:parseInt(a.score),description:a.description,strokeWidth:1.75},null,8,["score","description"])):(o(),S(_,{key:1,parts:n.sortedParts,total:parseInt(a.score),label:a.description,maxTotal:"100",animatedNumber:!1,"is-label-colored":""},null,8,["parts","total","label"]))])),e.analyzerStore.analyzeError?l("",!0):(o(),i("div",ce,[s("h2",null,d(m.strings.yourHomepageScore),1),e.rootStore?.aioseo?.urls?.home?(o(),i("span",le,[s("a",{target:"_blank",href:e.rootStore.aioseo.urls.home},d(e.rootStore.aioseo.urls.home),9,ue)])):l("",!0),s("div",{innerHTML:m.strings.goodResult},null,8,me),s("div",{innerHTML:m.strings.forBestResults},null,8,de),s("div",_e,[A(C),s("a",{href:e.links.getDocUrl("ultimateGuide"),target:"_blank"},d(m.strings.readUltimateSeoGuide),9,pe)])])),!e.analyzerStore.analyzeError&&e.analyzerStore.homeResults?.results?.advanced?.mobileSnapshot?(o(),i("div",ge,[s("div",ye,[s("img",{class:"mobile-snapshot-image__frame",src:e.getAssetUrl(e.iphoneFrame),alt:"Mobile Snapshot iPhone Frame"},null,8,he),s("img",{class:"mobile-snapshot-image__content",alt:"Mobile Snapshot",src:e.analyzerStore.homeResults?.results?.advanced?.mobileSnapshot},null,8,Se)])])):l("",!0),e.analyzerStore.analyzeError&&e.errorObject?(o(),i("div",fe,[A(g),s("p",ve,d(m.strings.anErrorOccurred),1),s("p",{class:"error-description",innerHTML:e.errorObject.description},null,8,ke),s("div",be,[(o(!0),i(D,null,G(e.errorObject.buttons,(t,z)=>(o(),S(y,{key:z,type:t.type,tag:t.tag?t.tag:"button",target:"_blank",href:t.url?t.url:"",size:"medium",loading:t?.runAgain&&e.analyzerStore.analyzing,onClick:T=>t?.runAgain?e.analyzerStore.runSiteAnalyzer():""},{default:M(()=>[L(d(t.text),1)]),_:2},1032,["type","tag","href","loading","onClick"]))),128))])])):l("",!0)])}const R=te(ne,[["render",Ce]]),ze={class:"aioseo-seo-site-score"},Ae={key:1,class:"aioseo-seo-site-score-cta"},Fe={__name:"Analyze",setup(k){const u=w(0),{connectWithAioseo:a,description:e,strings:m}=P({score:u}),n=H(),b=q(),_=J(),C=B();V(()=>n.homeResults.score,c=>{u.value=c});const g=p(()=>n.goodCount("homepage")),y=p(()=>n.recommendedCount("homepage")),t=p(()=>n.criticalCount("homepage")),z=p(()=>g.value+y.value+t.value),T=p(()=>({recommended:y.value,critical:t.value,good:g.value})),E=p(()=>U({good:g.value,warnings:y.value,issues:t.value,total:z.value})),N=c=>{K(c,a,600,630,!0,["token"],j,F)},j=c=>b.saveConnectToken(c.token),F=c=>{c&&n.runSiteAnalyzer()};return W(()=>{!n.homeResults.score&&_.internalOptions.internal.siteAnalysis.connectToken&&n.runSiteAnalyzer(),u.value=n.homeResults.score}),(c,x)=>(o(),i("div",ze,[r(_).internalOptions.internal.siteAnalysis.connectToken?l("",!0):(o(),S(r(X),{key:0},{default:M(()=>[A(r(R),{score:85,description:r(e)},null,8,["description"])]),_:1})),r(_).internalOptions.internal.siteAnalysis.connectToken?l("",!0):(o(),i("div",Ae,[s("a",{href:"#",onClick:x[0]||(x[0]=I(Te=>N(r(C).aioseo.urls.connect),["prevent"]))},d(r(a)),1),L(" "+d(r(m).toSeeYourSiteScore),1)])),r(_).internalOptions.internal.siteAnalysis.connectToken?(o(),S(r(R),{key:2,score:u.value,description:r(e),loading:r(n).analyzing,summary:T.value,parts:E.value},null,8,["score","description","loading","summary","parts"])):l("",!0)]))}};export{Fe as _};
