import{as as j,f as l,Q as I,R as h,j as o,T as O,a0 as v,v as a,U as n,ae as _,i as f,O as w,P as M,M as C,u as U,r as m}from"./vendor-vue-ui.d70c869f.js";import{_ as D}from"./Button.7fa2ada4.js";import{C as F}from"./Index.104764b8.js";import{C as Q}from"./CreditCounter.f146229c.js";import{t as q,k as J,b as K,x as X,M as Z,d as x}from"./app-core.61d75c0b.js";import{C as ee}from"./Index.67f2fc23.js";import{S as te}from"./Close.cee3494e.js";import{_ as t,a as oe}from"./vendor-other.2cdd5822.js";import{_ as ne}from"./_plugin-vue_export-helper.eefbdd86.js";const se={class:"aioseo-modal-body"},ie={class:"reset-description"},re={__name:"DisconnectModal",props:{showModal:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["continue","cancel"],setup(S){const e="all-in-one-seo-pack",y={areYouSureReset:t("Are you sure you want to disconnect from AI Content?",e),actionCannotBeUndone:oe(t("This action will disconnect %1$s from AI Content. By disconnecting from AI Content, you will no longer be able to use the AI Content features.",e),"AIOSEO"),yesContinue:t("Yes, I want to disconnect",e),noCancel:t("No, I changed my mind",e)},d=S;return(c,s)=>{const g=j("base-button");return l(),I(a(ee),{show:d.showModal,"no-header":"",onClose:s[4]||(s[4]=u=>c.$emit("cancel")),classes:["aioseo-ai-content-settings__disconnect-modal"]},{body:h(()=>[o("div",se,[o("button",{class:"close",onClick:s[1]||(s[1]=O(u=>c.$emit("cancel"),["stop"]))},[v(a(te),{onClick:s[0]||(s[0]=u=>c.$emit("cancel"))})]),o("h3",null,n(y.areYouSureReset),1),o("div",ie,n(y.actionCannotBeUndone),1),v(g,{type:"blue",size:"medium",onClick:s[2]||(s[2]=u=>c.$emit("continue")),loading:d.loading},{default:h(()=>[_(n(y.yesContinue),1)]),_:1},8,["loading"]),v(g,{type:"gray",size:"medium",onClick:s[3]||(s[3]=u=>c.$emit("cancel"))},{default:h(()=>[_(n(y.noCancel),1)]),_:1})])]),_:1},8,["show"])}}},ae={class:"aioseo-buy-or-connect"},ce={key:0,class:"aioseo-buy-or-connect__connected"},le={class:"credits-display"},ue={class:"credits-description"},de=["href"],pe=["href"],fe=["href"],_e={class:"credits-actions"},me={key:1,class:"aioseo-buy-or-connect__container"},ve={class:"aioseo-buy-or-connect__option"},ye={class:"option-label"},ge={class:"option-description"},Ce={class:"aioseo-buy-or-connect__option"},he={class:"option-label"},Ae={class:"option-description"},ke={class:"option-note"},be={__name:"BuyOrConnectButtons",props:{buttonsOnly:{type:Boolean,default:!1}},setup(S){const e="all-in-one-seo-pack",d=S.buttonsOnly,c=m(!1),s=m(!1),g=m(!1),u=m(!1),A=m(!1),T=m(null),$=q(),k=J(),b=K(),R=X(),z=U(()=>{const r=R.internalOptions.internal.ai;return k.license.isActive?!0:(r?.hasAccessToken||r?.isManuallyConnected)&&!r?.isTrialAccessToken}),E=U(()=>x.getUpsellUrl("ai-content","buy-or-connect","liteUpgrade")),P=U(()=>x.getUpsellUrl("ai-content","buy-or-connect","aiCredits")),i={newToAi:t("No Credits Yet?",e),newToAiDescription:t("Purchase credits to start creating content with AI.",e),getAiCredits:t("Get AI Credits",e),haveAccount:t("Have An AIOSEO Account?",e),haveAccountDescription:t("Connect your account to use your credits.",e),connectAccount:t("Connect Account",e),proNotice:t("Note: AIOSEO Pro includes AI credits. Connect here only if you purchased credits separately.",e),creditsDescription:t("Need more credits?",e),purchaseCredits:t("Purchase Credits",e),upgradeToPro:t("Upgrade to Pro",e),buyBundle:t("Purchase Credits",e),or:t("or",e),creditsNotUpdating:t("Credits not updating?",e),refresh:t("Refresh",e),refreshing:t("Refreshing...",e),disconnect:t("Disconnect",e)},L=()=>{c.value=!0;const r=b.aioseo.urls.marketingSiteUrl+"pricing-ai-credits?url="+btoa(b.aioseo.urls.home);N(r,1200,900)},Y=()=>{s.value=!0;const r=b.aioseo.urls.marketingSiteUrl+"account/?ai-credits-connect=1&url="+btoa(b.aioseo.urls.home);N(r,450,700)},N=(r,p=650,B=800)=>{Z(r,t("Connect Your Site with AI Content Generation",e),p,B,!0,["success"],V,H)},V=r=>(!r.success||!r.accessToken||(c.value=!0,s.value=!0,$.storeAccessToken(r.accessToken),c.value=!1,s.value=!1),Promise.resolve()),H=()=>{c.value=!1,s.value=!1},G=()=>{g.value=!0,A.value=!1,$.deactivate().catch(()=>{T.value=t("An unknown error occurred, please try again later.",e)}).finally(()=>{g.value=!1})},W=()=>{u.value||(u.value=!0,$.getCredits(!0).finally(()=>{u.value=!1}))};return(r,p)=>(l(),f("div",ae,[z.value?(l(),f("div",ce,[o("div",le,[v(Q,{"parent-component-context":"settings","is-settings-page":!0})]),o("div",ue,[_(n(i.creditsDescription)+" ",1),a(k).license.isActive?(l(),f("a",{key:0,href:P.value,target:"_blank"},n(i.purchaseCredits),9,de)):(l(),f(w,{key:1},[o("a",{href:E.value,target:"_blank"},n(i.upgradeToPro),9,pe),_(" "+n(i.or)+" ",1),o("a",{href:P.value,target:"_blank"},n(i.buyBundle),9,fe)],64))]),o("div",_e,[_(n(i.creditsNotUpdating)+" ",1),o("a",{href:"#",class:M({"is-refreshing":u.value}),onClick:O(W,["prevent"])},n(u.value?i.refreshing:i.refresh),3),a(k).license.isActive?C("",!0):(l(),f(w,{key:0},[p[2]||(p[2]=o("span",{class:"separator"},"â€¢",-1)),o("a",{href:"#",onClick:p[0]||(p[0]=O(B=>A.value=!0,["prevent"]))},n(i.disconnect),1)],64))]),a(k).license.isActive?C("",!0):(l(),I(re,{key:0,"show-modal":A.value,onContinue:G,onCancel:p[1]||(p[1]=B=>A.value=!1)},null,8,["show-modal"]))])):(l(),f("div",me,[o("div",{class:M(["aioseo-buy-or-connect__options",{"buttons-only":a(d)}])},[o("div",ve,[a(d)?C("",!0):(l(),f(w,{key:0},[o("div",ye,n(i.newToAi),1),o("div",ge,n(i.newToAiDescription),1)],64)),v(a(D),{type:"green",size:a(d)?"medium":"small",tag:"a",target:"_blank",onClick:L,loading:c.value},{default:h(()=>[_(n(i.getAiCredits),1)]),_:1},8,["size","loading"])]),o("div",Ce,[a(d)?C("",!0):(l(),f(w,{key:0},[o("div",he,n(i.haveAccount),1),o("div",Ae,n(i.haveAccountDescription),1),o("div",ke,n(i.proNotice),1)],64)),v(a(D),{type:"blue",size:a(d)?"medium":"small",tag:"a",target:"_blank",onClick:Y,loading:s.value},{default:h(()=>[_(n(i.connectAccount),1)]),_:1},8,["size","loading"])])],2),T.value?(l(),I(a(F),{key:0,class:"license-key-error",type:"red",innerHTML:T.value},null,8,["innerHTML"])):C("",!0)]))]))}},Ne=ne(be,[["__scopeId","data-v-c38cd947"]]);export{Ne as B};
