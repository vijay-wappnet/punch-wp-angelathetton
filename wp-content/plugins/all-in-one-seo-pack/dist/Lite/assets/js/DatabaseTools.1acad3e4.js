import{V as N,b as B,z as A,D as q,x as E,d as H,k as j}from"./app-core.61d75c0b.js";import{u as F}from"./Network.75a8df39.js";import{C as D}from"./Card.357796d1.js";import{u as P}from"./ToolsSettings.4cf5fc00.js";import{B as Y}from"./Checkbox.02461d14.js";import{C as G}from"./Index.104764b8.js";import{C as Q}from"./Index.67f2fc23.js";import{C as V}from"./SettingsRow.483d3796.js";import{G as J,a as K}from"./Row.0a3f58c3.js";import{S as W}from"./Close.cee3494e.js";import{as as s,f as a,i as v,a0 as r,R as n,Q as h,ae as d,U as u,M as b,j as f,O as X,ad as Z,T as $}from"./vendor-vue-ui.d70c869f.js";import{_ as R}from"./_plugin-vue_export-helper.eefbdd86.js";import{a as U,_ as i}from"./vendor-other.2cdd5822.js";import{C as ee}from"./Blur.d9f10327.js";import{C as te}from"./Index.234cfb98.js";import{R as oe}from"./RequiredPlans.89eae445.js";import"./vendor-datetime.430013a3.js";import"./vendor-lodash.f9514987.js";import"./Tooltip.7f0ce0d2.js";import"./Caret.c4a084e6.js";import"./Trash.effd183e.js";import"./Slide.4a56936c.js";import"./Checkmark.8da35047.js";import"./Button.7fa2ada4.js";import"./Pencil.acabfd26.js";const p="all-in-one-seo-pack",se={setup(){const{toolsSettings:o}=P();return{rootStore:B(),toolsSettings:o,toolsStore:N()}},components:{BaseCheckbox:Y,CoreAlert:G,CoreModal:Q,CoreSettingsRow:V,GridColumn:K,GridRow:J,SvgClose:W},props:{site:Object},data(){return{showSuccess:!1,showModal:!1,loading:!1,options:{},strings:{selectSettings:i("Select Settings",p),selectSettingsToReset:i("Select settings that you would like to reset:",p),resetSelectedSettings:i("Reset Selected Settings to Default",p),resetSuccess:i("Your settings have been reset successfully!",p),areYouSureReset:i("Are you sure you want to reset the selected settings to default?",p),actionCannotBeUndone:U(i("This action cannot be undone. Before taking this action, we recommend that you make a %1$sfull website backup first%2$s.",p),"<strong>","</strong>"),yesIHaveBackup:i("Yes, I have a backup and want to reset the settings",p),noBackup:i("No, I need to make a backup",p),allSettings:U(i("All %1$s Settings",p),"AIOSEO")}}},computed:{canReset(){if(this.rootStore.aioseo.data.isNetworkAdmin&&!this.site)return!1;const o=[];return Object.keys(this.options).forEach(t=>{o.push(this.options[t])}),!o.some(t=>t)}},methods:{noMakeBackup(){this.rootStore.navigate.scroll="aioseo-backup-settings",this.rootStore.navigate.highlight="aioseo-backup-settings",this.$router.push({name:"import-export"})},processResetSettings(){const o=[];this.options.all?this.toolsSettings.filter(t=>t.value!=="all").forEach(t=>{o.push(t.value)}):Object.keys(this.options).forEach(t=>{this.options[t]&&o.push(t)}),this.loading=!0,this.toolsStore.resetSettings({payload:o,siteId:this.site?this.site.blog_id:null}).then(()=>{this.showModal=!1,this.loading=!1,this.showSuccess=!0,this.options={},setTimeout(()=>{this.showSuccess=!1},5e3)})}}},ne={class:"aioseo-core-reset-settings"},re={class:"reset-settings"},ie={class:"aioseo-modal-body"},ae=["innerHTML"];function le(o,t,w,l,e,_){const g=s("core-alert"),m=s("base-checkbox"),k=s("grid-column"),y=s("grid-row"),S=s("base-button"),x=s("core-settings-row"),T=s("svg-close"),I=s("core-modal");return a(),v("div",ne,[r(x,{name:e.strings.selectSettings,class:"no-border"},{content:n(()=>[e.showSuccess?(a(),h(g,{key:0,class:"reset-success",type:"green"},{default:n(()=>[d(u(e.strings.resetSuccess),1)]),_:1})):b("",!0),f("div",re,[d(u(e.strings.selectSettingsToReset)+" ",1),t[5]||(t[5]=f("br",null,null,-1)),t[6]||(t[6]=f("br",null,null,-1)),r(y,{class:"settings"},{default:n(()=>[r(k,null,{default:n(()=>[r(m,{size:"medium",modelValue:e.options.all,"onUpdate:modelValue":t[0]||(t[0]=c=>e.options.all=c),disabled:l.rootStore.aioseo.data.isNetworkAdmin&&!w.site},{default:n(()=>[d(u(e.strings.allSettings),1)]),_:1},8,["modelValue","disabled"])]),_:1}),(a(!0),v(X,null,Z(l.toolsSettings,(c,O)=>(a(),h(k,{key:O,xl:"3",md:"4",sm:"6"},{default:n(()=>[e.options.all?b("",!0):(a(),h(m,{key:0,size:"medium",modelValue:e.options[c.value],"onUpdate:modelValue":L=>e.options[c.value]=L,disabled:l.rootStore.aioseo.data.isNetworkAdmin&&!w.site},{default:n(()=>[d(u(c.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])),c.value!=="all"&&e.options.all?(a(),h(m,{key:1,size:"medium",modelValue:!0,disabled:""},{default:n(()=>[d(u(c.label),1)]),_:2},1024)):b("",!0)]),_:2},1024))),128))]),_:1}),r(S,{type:"gray",size:"medium",onClick:t[1]||(t[1]=c=>e.showModal=!0),disabled:_.canReset},{default:n(()=>[d(u(e.strings.resetSelectedSettings),1)]),_:1},8,["disabled"])])]),_:1},8,["name"]),r(I,{show:e.showModal,"no-header":"",onClose:t[4]||(t[4]=c=>e.showModal=!1),classes:["aioseo-core-reset-settings-modal"]},{body:n(()=>[f("div",ie,[f("button",{class:"close",onClick:t[3]||(t[3]=$(c=>e.showModal=!1,["stop"]))},[r(T,{onClick:t[2]||(t[2]=c=>e.showModal=!1)})]),f("h3",null,u(e.strings.areYouSureReset),1),f("div",{class:"reset-description",innerHTML:e.strings.actionCannotBeUndone},null,8,ae),r(S,{type:"blue",size:"medium",onClick:_.processResetSettings,loading:e.loading},{default:n(()=>[d(u(e.strings.yesIHaveBackup),1)]),_:1},8,["onClick","loading"]),r(S,{type:"gray",size:"medium",onClick:_.noMakeBackup},{default:n(()=>[d(u(e.strings.noBackup),1)]),_:1},8,["onClick"])])]),_:1},8,["show"])])}const z=R(se,[["render",le]]),M="all-in-one-seo-pack",ce={setup(){const{getSites:o,getUniqueSiteId:t}=F();return{license:A,optionsStore:E(),rootStore:B(),redirectsStore:q(),toolsStore:N(),getSites:o,getUniqueSiteId:t}},components:{CoreCard:D,CoreResetSettings:z,CoreSettingsRow:V},data(){return{site:null,selectedSite:null,strings:{selectSite:i("Select Site",M),resetRestoreSettings:i("Reset / Restore Settings",M)}}},watch:{site(o){this.selectedSite=this.rootStore.aioseo.data.network.sites.sites.find(t=>this.getUniqueSiteId(t)===o.value)}},computed:{canReset(){const o=[];return Object.keys(this.options).forEach(t=>{o.push(this.options[t])}),!o.some(t=>t)},sites(){return this.getSites.filter(o=>!o.parentDomain).map(o=>({value:this.getUniqueSiteId(o),label:`${o.domain}${o.path}`}))}}},ue={class:"aioseo-tools-database-tools"};function de(o,t,w,l,e,_){const g=s("base-select"),m=s("core-settings-row"),k=s("core-reset-settings"),y=s("core-card");return a(),v("div",ue,[r(y,{slug:"databaseTools","header-text":e.strings.resetRestoreSettings},{default:n(()=>[l.rootStore.aioseo.data.isNetworkAdmin?(a(),h(m,{key:0,name:e.strings.selectSite},{content:n(()=>[r(g,{size:"medium",modelValue:e.site,"onUpdate:modelValue":t[0]||(t[0]=S=>e.site=S),options:_.sites},null,8,["modelValue","options"])]),_:1},8,["name"])):b("",!0),r(k,{site:e.selectedSite},null,8,["site"])]),_:1},8,["header-text"])])}const me=R(ce,[["render",de]]),C="all-in-one-seo-pack",pe={components:{RequiredPlans:oe,CoreBlur:ee,CoreCard:D,CoreResetSettings:z,CoreSettingsRow:V,Cta:te},data(){return{links:H,strings:{selectSite:i("Select Site",C),resetRestoreSettings:i("Reset / Restore Settings",C),ctaHeader:U(i("Network Tools is a %1$s Feature",C),"PRO"),ctaButtonText:i("Unlock Network Tools",C),networkDatabaseToolsDescription:i("Unlock network-level tools to manage all your sites from one easy-to-use location. Migrate data or create backups without the need to visit each dashboard.",C)}}}},_e={class:"aioseo-tools-database-tools-lite"};function ge(o,t,w,l,e,_){const g=s("base-select"),m=s("core-settings-row"),k=s("core-reset-settings"),y=s("core-blur"),S=s("required-plans"),x=s("cta"),T=s("core-card");return a(),v("div",_e,[r(T,{slug:"databaseTools","header-text":e.strings.resetRestoreSettings},{default:n(()=>[r(y,null,{default:n(()=>[r(m,{name:e.strings.selectSite},{content:n(()=>[r(g,{size:"medium",modelValue:{value:"",label:""},options:[]})]),_:1},8,["name"]),r(k)]),_:1}),r(x,{"cta-link":e.links.getPricingUrl("network-tools","database-tools",null,"liteUpgrade"),"button-text":e.strings.ctaButtonText,"learn-more-link":e.links.getUpsellUrl("network-tools","database-tools","liteUpgrade")},{"header-text":n(()=>[d(u(e.strings.ctaHeader),1)]),description:n(()=>[r(S,{"core-feature":["tools","network-tools-database"]}),d(" "+u(e.strings.networkDatabaseToolsDescription),1)]),_:1},8,["cta-link","button-text","learn-more-link"])]),_:1},8,["header-text"])])}const Se=R(pe,[["render",ge]]),fe={setup(){return{licenseStore:j(),rootStore:B()}},components:{DatabaseTools:me,LiteDatabaseTools:Se},data(){return{license:A}}};function he(o,t,w,l,e,_){const g=s("database-tools",!0),m=s("lite-database-tools");return a(),v("div",null,[!l.rootStore.aioseo.data.isNetworkAdmin||!l.licenseStore.isUnlicensed&&e.license.hasCoreFeature("tools","network-tools-database")?(a(),h(g,{key:0})):b("",!0),l.rootStore.aioseo.data.isNetworkAdmin&&(l.licenseStore.isUnlicensed||!e.license.hasCoreFeature("tools","network-tools-database"))?(a(),h(m,{key:1})):b("",!0)])}const Pe=R(fe,[["render",he]]);export{Pe as default};
