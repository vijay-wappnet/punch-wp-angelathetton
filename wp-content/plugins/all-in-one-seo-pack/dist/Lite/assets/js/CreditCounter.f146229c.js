import{d as u,b as U,x as V,k as H,L}from"./app-core.61d75c0b.js";import{D as x}from"./vendor-datetime.430013a3.js";import{_ as A}from"./Button.7fa2ada4.js";import{C as M}from"./Tooltip.7f0ce0d2.js";import{_ as v}from"./_plugin-vue_export-helper.eefbdd86.js";import{f as c,i as d,at as E,as as C,j as o,a0 as S,P as _,U as a,Q as b,R as y,M as g,O as B,ad as F,ae as N,u as O,g as R}from"./vendor-vue-ui.d70c869f.js";import{S as D}from"./Trash.effd183e.js";import{a as m,_ as t}from"./vendor-other.2cdd5822.js";const G={},I={class:"aioseo-ai-credits",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};function Z(n,s){return c(),d("svg",I,[...s[0]||(s[0]=[E('<path style="fill:url(#paint0_linear_214_19291) !important;" d="M4 18V10V10.325V6V18ZM4 8H20V6H4V8ZM11.575 20H4C3.45 20 2.97917 19.8042 2.5875 19.4125C2.19583 19.0208 2 18.55 2 18V6C2 5.45 2.19583 4.97917 2.5875 4.5875C2.97917 4.19583 3.45 4 4 4H20C20.55 4 21.0208 4.19583 21.4125 4.5875C21.8042 4.97917 22 5.45 22 6V11.325C21.4167 10.9083 20.7792 10.5833 20.0875 10.35C19.3958 10.1167 18.6667 10 17.9 10C16.95 10 16.0542 10.1792 15.2125 10.5375C14.3708 10.8958 13.6333 11.3833 13 12H4V18H10.975C11.025 18.35 11.1 18.6917 11.2 19.025C11.3 19.3583 11.425 19.6833 11.575 20Z"></path><path style="fill:#3262F2 !important;" d="M21.9502 12.7273V20H20.4126V12.7273H21.9502Z"></path><path style="fill:#3262F2 !important;" d="M14.1856 20H12.5378L15.0485 12.7273H17.03L19.5371 20H17.8894L16.0677 14.3892H16.0109L14.1856 20ZM14.0826 17.1414H17.9746V18.3416H14.0826V17.1414Z"></path><defs><linearGradient id="paint0_linear_214_19291" x1="2" y1="12" x2="22" y2="12" gradientUnits="userSpaceOnUse"><stop stop-color="#4E17CF"></stop><stop offset="1" stop-color="#3064F3"></stop></linearGradient></defs>',4)])])}const Y=v(G,[["render",Z]]),i="all-in-one-seo-pack",z={setup(){const n=R(),s=U(),l=V(),e=p=>{const f=x.fromMillis(p.expires*1e3),k=L(f.toJSDate(),s.aioseo.data.dateFormat);return m(t("%1$s credits will expire on %2$s.",i),parseInt(p.remaining).toLocaleString(),k)},h=O(()=>{if(s.aioseo.data.isNetworkLicensed)return t("These credits will reset when your license renews. Your license details can be found in the Network Admin area.",i);const p=x.fromMillis(l.internalOptions.internal?.license?.expires*1e3),f=L(p.toJSDate(),s.aioseo.data.dateFormat);return m(t("These credits will reset when your license renews on %1$s.",i),f)}),r=O(()=>l.internalOptions.internal.ai.isTrialAccessToken?t("Trial Credits",i):t("Credits",i));return{app:n,licenseStore:H(),optionsStore:l,rootStore:s,links:u,DateTime:x,orderExpiration:e,licenseExpiration:h,creditsText:r}},components:{BaseButton:A,CoreTooltip:M,SvgAiCredits:Y,SvgCircleQuestionMark:D},props:{parentComponentContext:{type:String,default:"metabox"},isSettingsPage:{type:Boolean,default:!1},tooltipOffset:String,tooltipPlacement:String},data(){return{strings:{creditsLinksLite:m(t("To unlock additional credits, %1$s or %2$s.",i),`<a href="${u.getUpsellUrl("ai-content","credit-counter","liteUpgrade")}" target="_blank">${t("upgrade to Pro",i)}</a>`,`<a href="${u.getUpsellUrl("ai-content","credit-counter","aiCredits")}" target="_blank">${t("purchase a Pay-As-You-Go credit bundle",i)}</a>`),creditsLinksPro:m(t("To unlock additional credits, %1$s or %2$s.",i),`<a href="${u.getUpsellUrl("ai-content","credit-counter","proUpgrade")}" target="_blank">${t("upgrade to higher plan",i)}</a>`,`<a href="${u.getUpsellUrl("ai-content","credit-counter","aiCredits")}" target="_blank">${t("purchase a Pay-As-You-Go credit bundle",i)}</a>`),creditsLinksElite:m(t("To unlock additional credits, %1$s.",i),`<a href="${u.getUpsellUrl("ai-content","credit-counter","aiCredits")}" target="_blank">${t("purchase a Pay-As-You-Go credit bundle",i)}</a>`),buyCredits:t("Buy Credits",i),paygCredits:t("PAYG AI Credits",i)}}},computed:{parsedTooltipOffset(){return this.tooltipOffset||(this.app.root.data.screenContext==="sidebar"&&this.parentComponentContext==="metabox"?"10px,0":"50px,0")},parsedTooltipPlacement(){return this.tooltipPlacement||(this.app.root.data.screenContext==="sidebar"&&this.parentComponentContext==="metabox"?"left":"right")},planLevel(){return this.licenseStore.isUnlicensed?"":this.optionsStore.internalOptions.internal.license.level},planCredits(){let n=this.planLevel;return this.rootStore.aioseo.data.isNetworkLicensed&&(n="Elite"),n?(n=n.charAt(0).toUpperCase()+n.slice(1),m(t("%1$s Plan AI Credits",i),n)):""},oldestOrdersFirst(){return this.optionsStore.internalOptions.internal.ai.credits.orders.sort((s,l)=>s.expires-l.expires)},orderRemaining(){return this.optionsStore.internalOptions.internal.ai.credits.orders.reduce((n,s)=>n+parseInt(s.remaining),0).toLocaleString()},orderTotal(){return this.optionsStore.internalOptions.internal.ai.credits.orders.reduce((n,s)=>n+parseInt(s.total),0).toLocaleString()},licenseRemaining(){return this.optionsStore.internalOptions.internal.ai.credits.license.remaining.toLocaleString()},licenseTotal(){return this.optionsStore.internalOptions.internal.ai.credits.license.total.toLocaleString()},getCreditsLinks(){return this.rootStore.aioseo.data.isNetworkLicensed&&!this.optionsStore.internalOptions.internal.license.level?this.strings.creditsLinksElite:!this.rootStore.isPro||!this.licenseStore.license.isActive?this.strings.creditsLinksLite:this.optionsStore.internalOptions.internal.license?.level?.toLowerCase()==="elite"?this.strings.creditsLinksElite:this.strings.creditsLinksPro}}},q={class:"counter-container-wrapper"},J={class:"counter-container"},Q={key:0,class:"aioseo-ai-credit-counter-license"},j={class:"credit-heading"},K={class:"counter"},W={class:"license-expiration"},X={key:1},$={key:2,class:"aioseo-ai-credit-counter-orders"},ee={class:"credit-heading"},te={class:"counter"},ie={class:"credit-orders"},ne={key:0,class:"purchase-credits"},re=["href"],se={key:0,class:"purchase-credits"},oe=["innerHTML"];function ae(n,s,l,e,h,r){const p=C("svg-ai-credits"),f=C("svg-circle-question-mark"),k=C("core-tooltip"),T=C("base-button");return c(),d("div",{class:_(["aioseo-ai-credit-counter",{"aioseo-ai-credit-counter--metabox":l.parentComponentContext==="metabox","aioseo-ai-credit-counter--settings":l.isSettingsPage}])},[o("div",q,[S(p),o("div",J,[o("div",{class:_(["counter",{"counter-sidebar":e.app.root.data.screenContext==="sidebar"}])},[o("span",{class:_({"credit-count":!0,"low-credits":e.optionsStore.aiCreditPercentage<=20})},a(e.optionsStore.internalOptions.internal.ai.credits.remaining.toLocaleString())+" / "+a(e.optionsStore.internalOptions.internal.ai.credits.total.toLocaleString())+" "+a(e.creditsText),3),!e.optionsStore.internalOptions.internal.ai.isTrialAccessToken&&(e.optionsStore.internalOptions.internal.ai.credits.orders.length>0||e.optionsStore.internalOptions.internal.ai.credits.license.total>0)?(c(),b(k,{key:0,offset:r.parsedTooltipOffset,placement:r.parsedTooltipPlacement},{tooltip:y(()=>[e.optionsStore.internalOptions.internal.license&&e.optionsStore.internalOptions.internal.ai.credits.license.total>0?(c(),d("div",Q,[o("span",j,a(r.planCredits),1),o("div",K,[S(p),o("span",{class:_({"credit-count":!0,"low-credits":r.licenseRemaining/r.licenseTotal>20})},a(r.licenseRemaining)+" / "+a(r.licenseTotal),3)]),o("span",W,a(e.licenseExpiration),1)])):g("",!0),e.optionsStore.internalOptions.internal.license&&e.optionsStore.internalOptions.internal.ai.credits.license.total>0&&e.optionsStore.internalOptions.internal.ai.credits.orders.length>0?(c(),d("hr",X)):g("",!0),e.optionsStore.internalOptions.internal.ai.credits.orders.length>0?(c(),d("div",$,[o("span",ee,a(h.strings.paygCredits),1),o("div",te,[S(p),o("span",{class:_({"credit-count":!0,"low-credits":r.orderRemaining/r.orderTotal>20})},a(r.orderRemaining)+" / "+a(r.orderTotal),3)]),o("div",ie,[(c(!0),d(B,null,F(r.oldestOrdersFirst,(P,w)=>(c(),d("span",{key:w,class:"credit-order"},a(e.orderExpiration(P)),1))),128))])])):g("",!0)]),default:y(()=>[S(f)]),_:1},8,["offset","placement"])):g("",!0)],2),l.isSettingsPage?g("",!0):(c(),d("div",ne,[e.optionsStore.aiCreditPercentage<=20?(c(),b(T,{key:0,class:_({"aioseo-ai-content-settings-button":l.isSettingsPage}),size:l.isSettingsPage?"medium":"small",type:"green",tag:"a",href:e.links.getUpsellUrl("ai-credit-counter","","aiCredits"),target:"_blank"},{default:y(()=>[N(a(h.strings.buyCredits),1)]),_:1},8,["class","size","href"])):(c(),d("a",{key:1,class:"buy-credits",href:e.links.getUpsellUrl("ai-credit-counter","","aiCredits"),target:"__blank"},a(h.strings.buyCredits),9,re))]))])]),l.isSettingsPage?(c(),d("div",se,[o("p",{innerHTML:r.getCreditsLinks},null,8,oe)])):g("",!0)],2)}const he=v(z,[["render",ae]]);export{he as C};
