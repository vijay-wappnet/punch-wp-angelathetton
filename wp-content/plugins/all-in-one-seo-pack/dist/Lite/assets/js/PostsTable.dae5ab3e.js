const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.__aioseoDynamicImportPreload__("js/vendor-charts.9ad7bb77.js"),window.__aioseoDynamicImportPreload__("js/vendor-other.2cdd5822.js"),window.__aioseoDynamicImportPreload__("js/vendor-vue-ui.d70c869f.js"),window.__aioseoDynamicImportPreload__("css/vendor-vue-ui.dbee72c8.css")])))=>i.map(i=>d[i]);
import{aj as Y,as as _,f as r,i as u,a0 as y,U as d,M as m,O as J,ad as K,j as p,Q as f,S as X,P as B,v as S,ae as w,u as O,R as l,T as $,r as j}from"./vendor-vue-ui.d70c869f.js";import{n as E,_ as ee,e as U,z as te,d as se,h as oe,b as ie,x as re,k as ae}from"./app-core.61d75c0b.js";import{u as ne}from"./PostTypes.2071ae95.js";import{S as le,a as ce}from"./Statistic.96a73c77.js";import{u as ue}from"./WpTable.90f63b18.js";import{_ as de}from"./ScoreButton.90f6c885.js";import{C as pe}from"./Table.ce454218.js";import{C as he}from"./Index.234cfb98.js";import{D}from"./vendor-datetime.430013a3.js";import{_ as T}from"./_plugin-vue_export-helper.eefbdd86.js";import{a as A,_ as a}from"./vendor-other.2cdd5822.js";import{_ as fe}from"./IndexStatus.54e80a37.js";import{C as ge}from"./Button.7fa2ada4.js";import{C as me}from"./Tooltip.7f0ce0d2.js";import{u as Se}from"./IndexStatus.e7014280.js";import{S as _e}from"./External.64f546f0.js";import{S as be}from"./CheckSolid.b8547990.js";import{S as ye}from"./ExclamationSolid.015f0b9c.js";import{w as xe}from"./vendor-lodash.f9514987.js";const I="all-in-one-seo-pack",ke={components:{apexchart:Y(()=>ee(()=>import("./vendor-charts.9ad7bb77.js"),__vite__mapDeps([0,1,2,3]),import.meta.url))},props:{points:{type:Object,required:!0},peak:{type:Number,default(){return 0}},recovering:{type:Boolean,default(){return!1}},height:{type:Number,default(){return 50}}},data(){return{strings:{recovering:a("Slowly Recovering",I),peak:a("Peak",I)}}},computed:{getSeries(){const e=this.points,i=[];return Object.keys(e).forEach(o=>{i.push({x:o,y:e[o]})}),[{data:i}]},chartOptions(){const e=this.peak;return{colors:[function({value:i}){return i===e?"#005AE0":"#99C2FF"}],chart:{type:"bar",sparkline:{enabled:!0},zoom:{enabled:!1},toolbar:{show:!1},parentHeightOffset:0,background:"#fff"},grid:{show:!1,padding:{top:2,right:2,bottom:0,left:2}},plotOptions:{bar:{columnWidth:"85%",barHeight:"100%"}},fill:{type:"solid"},tooltip:{enabled:!0,x:{show:!0,formatter:i=>D.fromFormat(i,"yyyy-MM").setZone(D.zone).toLocaleString({month:"long",year:"numeric"})},y:{formatter:i=>{const o=A(a("%1$s points",I),E.numberFormat(i,0));let t="";return i===e&&(t=`<span class="peak">${this.strings.peak}</span>`),o+t}},marker:{show:!1}}}}}},we={class:"aioseo-graph-decay"},Pe={key:0,class:"aioseo-graph-decay-recovering"};function ve(e,i,o,t,n,h){const x=_("apexchart");return r(),u("div",we,[y(x,{width:"100%",height:o.height,ref:"apexchart",options:h.chartOptions,series:h.getSeries,class:"aioseo-graph-decay-chart"},null,8,["height","options","series"]),o.recovering?(r(),u("div",Pe,d(n.strings.recovering),1)):m("",!0)])}const Ce=T(ke,[["render",ve]]),Te={class:"aioseo-index-status-result"},Fe={key:0},Le={class:"aioseo-index-status-result__row-title"},Re=["innerHTML"],Ie={key:0,class:"aioseo-index-status-result__row"},Oe=["href"],Ae={key:1},je={__name:"IndexStatusResult",props:{result:{type:Object,default(){return{}}},errorMessage:{type:String,default:""}},setup(e){const i="aioseo-pro",o=e,{items:t,strings:n}=Se(),h=O(()=>o.errorMessage?o.errorMessage:a("Oops! It looks like something went wrong while loading the results for this page. Please try again by refreshing the page.",i));return(x,b)=>(r(),u("div",Te,[e.result?.indexStatusResult?.verdict?(r(),u("div",Fe,[(r(!0),u(J,null,K(S(t),(g,P)=>(r(),u("div",{class:"aioseo-index-status-result__row",key:P},[p("div",Le,d(g.title),1),p("div",{class:B(["aioseo-index-status-result__row-description",g.key])},[(r(),f(X(g.getIcon(e.result.indexStatusResult[g.key])))),p("span",{innerHTML:g.parseValue(e.result.indexStatusResult[g.key]).value},null,8,Re)],2)]))),128)),e.result?.inspectionResultLink?(r(),u("div",Ie,[p("a",{href:e.result.inspectionResultLink,target:"_blank",class:"aioseo-index-status-result__row-inspection-link"},[w(d(S(n).inspectOnGsc)+" ",1),y(S(_e),{width:"12",height:"12"})],8,Oe)])):m("",!0)])):(r(),u("div",Ae,d(h.value),1))]))}},De={},Be={viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-circle-close-solid"};function Ee(e,i){return r(),u("svg",Be,[...i[0]||(i[0]=[p("path",{d:"M8.4748 17.0008L11.9998 13.4758L15.5248 17.0008L16.9998 15.5258L13.4748 12.0008L16.9998 8.47578L15.5248 7.00078L11.9998 10.5258L8.4748 7.00078L6.9998 8.47578L10.5248 12.0008L6.9998 15.5258L8.4748 17.0008ZM11.9998 22.2008C10.5831 22.2008 9.2538 21.9341 8.0118 21.4008C6.77047 20.8674 5.69147 20.1424 4.7748 19.2258C3.85814 18.3091 3.13314 17.2301 2.5998 15.9888C2.06647 14.7468 1.7998 13.4174 1.7998 12.0008C1.7998 10.5841 2.06647 9.25478 2.5998 8.01278C3.13314 6.77145 3.85814 5.69245 4.7748 4.77578C5.69147 3.85911 6.77047 3.13411 8.0118 2.60078C9.2538 2.06745 10.5831 1.80078 11.9998 1.80078C13.4165 1.80078 14.7458 2.06745 15.9878 2.60078C17.2291 3.13411 18.3081 3.85911 19.2248 4.77578C20.1415 5.69245 20.8665 6.77145 21.3998 8.01278C21.9331 9.25478 22.1998 10.5841 22.1998 12.0008C22.1998 13.4174 21.9331 14.7468 21.3998 15.9888C20.8665 17.2301 20.1415 18.3091 19.2248 19.2258C18.3081 20.1424 17.2291 20.8674 15.9878 21.4008C14.7458 21.9341 13.4165 22.2008 11.9998 22.2008Z"},null,-1)])])}const Ue=T(De,[["render",Ee]]),Me={__name:"IndexStatus",props:{loading:{type:Boolean,default:!1},result:{type:Object,default(){return{}}},tooltipOffset:{type:String,default(){return"0,0"}},viewable:{type:Boolean,default:!0}},setup(e){const i=U(),o="all-in-one-seo-pack",t=e,n=O(()=>{if(!t.viewable||!t.result?.indexStatusResult?.verdict&&i.quotaExceeded.urlInspection)return"exclamation";switch(t.result?.indexStatusResult?.verdict){case"PASS":return"check";case"PARTIAL":case"FAIL":case"NEUTRAL":return"close";default:return"exclamation"}}),h=O(()=>t.viewable?i.quotaExceeded.urlInspection?a("Your site ran out of URL inspection quota. Please try again after 24 hours when the quota is renewed.",o):"":A(a("This page is not published so its index status cannot be determined. %1$s will determine the index status as soon as the page is published.",o),"AIOSEO"));return(x,b)=>(r(),u("div",{class:B(["aioseo-index-status",[e.viewable?"aioseo-index-status--viewable":"aioseo-index-status--not-viewable",S(i).quotaExceeded.urlInspection?"aioseo-index-status--quota-exceeded":""]])},[e.loading?(r(),f(S(ge),{key:0,dark:""})):m("",!0),e.loading?m("",!0):(r(),f(S(me),{key:1,flip:"",offset:e.tooltipOffset},{tooltip:l(()=>[y(S(je),{result:e.result,"error-message":h.value},null,8,["result","error-message"])]),default:l(()=>[p("div",null,[n.value==="check"?(r(),f(S(be),{key:0})):n.value==="close"?(r(),f(S(Ue),{key:1})):(r(),f(S(ye),{key:2}))])]),_:1},8,["offset"]))],2))}},Ne={};function Ve(e,i){return r(),u("div")}const qe=T(Ne,[["render",Ve]]),c="all-in-one-seo-pack",He={setup(e){const{editPost:i,viewPost:o}=ne(),t=U(),n=({name:v,selectedValue:Q})=>{b[v]=Q},h=()=>{b.value.postType="",n({name:"postType",selectedValue:""})},x=v=>{if(typeof t[e.updateAction]=="function")return t[e.updateAction](v)},b=j({}),g=j(!1),{openPostDetail:P,orderBy:k,orderDir:C,processFilter:F,resultsPerPage:L}=ce({processFilterTable:v=>H(v),showUpsell:g}),s="searchStatisticsSeoStatistics",R="aioseo-search-statistics-post-table",{filter:M,pageNumber:N,processAdditionalFilters:V,processChangeItemsPerPage:q,processFilterTable:H,processPagination:Z,processSearch:z,processSort:W,searchTerm:G}=ue({changeItemsPerPageSlug:s,fetchData:x,orderBy:k,orderDir:C,resetSelectedFilters:h,resultsPerPage:L,selectedFilters:b,tableId:R});return{changeItemsPerPageSlug:s,editPost:i,filter:M,licenseStore:ae(),links:se,openPostDetail:P,optionsStore:re(),orderBy:k,orderDir:C,pageNumber:N,processAdditionalFilterOptionSelected:n,processAdditionalFilters:V,processChangeItemsPerPage:q,processFilter:F,processPagination:Z,processSearch:z,processSort:W,rootStore:ie(),searchStatisticsStore:t,searchTerm:G,selectedFilters:b,settingsStore:oe(),showUpsell:g,tableId:R,viewPost:o}},components:{CoreScoreButton:de,CoreWpTable:pe,Cta:he,GraphDecay:Ce,IndexStatus:fe,IndexStatusPro:Me,ObjectActions:qe,Statistic:le},props:{posts:Object,isLoading:Boolean,showHeader:{type:Boolean,default(){return!0}},showTableFooter:Boolean,showItemsPerPage:Boolean,columns:{type:Array,default(){return["postTitle","seoScore","clicks","impressions","position"]}},appendColumns:{type:Object,default(){return{}}},defaultSorting:{type:Object,default(){return{}}},initialFilter:{type:String,default(){return""}},updateAction:{type:String,default(){return"updateSeoStatistics"}}},data(){return{numbers:E,sortableColumns:[],strings:{position:a("Position",c),ctaButtonText:a("Unlock Post Tracking",c),ctaHeader:A(a("Post Tracking is a %1$s Feature",c),"PRO")},license:te}},watch:{isLoading(e){e||this.$nextTick(()=>{this.loadInspectionResult()})}},computed:{getFilters(){return this.searchStatisticsStore.shouldShowSampleReports?[]:this.posts.filters},allColumns(){const e=xe(this.columns),i=this.posts?.filters?.find(o=>o.active)||{};return this.appendColumns[i.slug||"all"]&&e.push(this.appendColumns[i.slug||"all"]),e.map(o=>(o.endsWith("Sortable")&&(o=o.replace("Sortable",""),this.sortableColumns.push(o)),o))},tableColumns(){return[{slug:"row",label:"#",width:"40px"},{slug:"postTitle",label:a("Title",c),width:"100%"},{slug:"seoScore",label:a("TruSEO Score",c),width:"130px"},{slug:"indexStatus",label:a("Indexed",c),width:"80px",coreFeature:"index-status"},{slug:"clicks",label:a("Clicks",c),width:"80px"},{slug:"impressions",label:a("Impressions",c),width:"110px"},{slug:"position",label:a("Position",c),width:"90px"},{slug:"lastUpdated",label:a("Last Updated On",c),width:"160px"},{slug:"decay",label:a("Loss",c),width:"140px"},{slug:"decayPercent",label:a("Drop (%)",c),width:"120px"},{slug:"performance",label:a("Performance Score",c),width:"150px"},{slug:"diffDecay",label:a("Diff",c),width:"95px"},{slug:"diffPosition",label:a("Diff",c),width:"80px"}].filter(e=>e.coreFeature&&((!this.rootStore.isPro||this.licenseStore.isUnlicensed)&&!this.searchStatisticsStore.shouldShowSampleReports||!this.license.hasCoreFeature("search-statistics",e.coreFeature)&&!this.searchStatisticsStore.shouldShowSampleReports)?!1:e.slug==="seoScore"?this.optionsStore.options.advanced.truSeo:this.allColumns.includes(e.slug)).map(e=>(e.sortable=this.isSortable&&this.sortableColumns.includes(e.slug),e.sortable&&(e.sortDir=e.slug===this.orderBy?this.orderDir:"asc",e.sorted=e.slug===this.orderBy),e))},isSortable(){return this.filter==="all"&&this.rootStore.isPro&&!this.licenseStore.isUnlicensed}},methods:{loadInspectionResult(){if(!this.posts?.rows||this.searchStatisticsStore.quotaExceeded.urlInspection)return;const e=Object.values(this.posts.rows),i=e.filter(o=>!o.inspectionResult||o.inspectionResult?.length===0);i.length&&(i.forEach(o=>{const t=e.find(n=>n.page===o.page);t&&(t.inspectionResultLoading=!0)}),this.searchStatisticsStore.getInspectionResult({paths:i.map(o=>o.page)}).then(o=>{i.forEach(t=>{const n=e.find(h=>h.page===t.page);n&&(n.inspectionResult=o[t.page],n.inspectionResultLoading=!1)})}))}},mounted(){this.initialFilter&&this.processFilter({slug:this.initialFilter}),this.loadInspectionResult(),this.orderBy=this.defaultSorting?.orderBy||this.orderBy,this.orderDir=this.defaultSorting?.orderDir||this.orderDir}},Ze={class:"aioseo-search-statistics-post-table"},ze={class:"object-row"},We={class:"object-title"},Ge=["onClick"],Qe={key:1,class:"object-title"},Ye={key:0,class:"row-actions"},Je=["href"],Ke=["href"];function Xe(e,i,o,t,n,h){const x=_("object-actions"),b=_("core-score-button"),g=_("index-status"),P=_("index-status-pro"),k=_("statistic"),C=_("graph-decay"),F=_("cta"),L=_("core-wp-table");return r(),u("div",Ze,[y(L,{ref:"table",class:"posts-table",id:t.tableId,columns:h.tableColumns,rows:Object.values(o.posts.rows),totals:o.posts.totals,filters:h.getFilters,"additional-filters":o.posts.additionalFilters,"selected-filters":t.selectedFilters,loading:o.isLoading,"initial-page-number":t.pageNumber,"initial-search-term":t.searchTerm,"initial-items-per-page":t.settingsStore.settings.tablePagination[t.changeItemsPerPageSlug],"show-header":o.showHeader,"show-bulk-actions":!1,"show-table-footer":o.showTableFooter,"show-items-per-page":o.showItemsPerPage&&!t.searchStatisticsStore.shouldShowSampleReports,"show-pagination":"","blur-rows":t.showUpsell,onFilterTable:t.processFilter,onProcessAdditionalFilters:t.processAdditionalFilters,onAdditionalFilterOptionSelected:t.processAdditionalFilterOptionSelected,onPaginate:t.processPagination,onProcessChangeItemsPerPage:t.processChangeItemsPerPage,onSearch:t.processSearch,onSortColumn:t.processSort},{row:l(({index:s})=>[p("div",ze,d(s+1),1)]),postTitle:l(({row:s})=>[p("div",We,[s.objectId&&s.objectType==="post"&&t.searchStatisticsStore.isConnected?(r(),u("a",{key:0,href:"#",onClick:$(R=>t.openPostDetail(s),["prevent"])},d(s.objectTitle),9,Ge)):(r(),u("span",Qe,d(s.objectTitle),1))]),y(x,{row:s},null,8,["row"]),s.objectId&&s.objectType==="post"?(r(),u("div",Ye,[p("span",null,[p("a",{class:"view",href:s.context.permalink,target:"_blank"},[p("span",null,d(t.viewPost(s.context.postType?.singular)),1)],8,Je),i[0]||(i[0]=w(" | ",-1))]),p("span",null,[p("a",{class:"edit",href:s.context.editLink,target:"_blank"},[p("span",null,d(t.editPost(s.context.postType?.singular)),1)],8,Ke)])])):m("",!0)]),seoScore:l(({row:s})=>[s.seoScore?(r(),f(b,{key:0,class:"table-score-button",score:s.seoScore},null,8,["score"])):m("",!0)]),indexStatus:l(({row:s})=>[t.searchStatisticsStore.shouldShowSampleReports?m("",!0):(r(),f(g,{key:0,result:s.inspectionResult,loading:s.inspectionResultLoading},null,8,["result","loading"])),t.searchStatisticsStore.shouldShowSampleReports?(r(),f(P,{key:1,result:s.inspectionResult,loading:s.inspectionResultLoading},null,8,["result","loading"])):m("",!0)]),clicks:l(({row:s})=>[w(d(n.numbers.compactNumber(s.clicks)),1)]),impressions:l(({row:s})=>[w(d(n.numbers.compactNumber(s.impressions)),1)]),position:l(({row:s})=>[w(d(Math.round(s.position).toFixed(0)),1)]),lastUpdated:l(({row:s})=>[w(d(s.context.lastUpdated||"-"),1)]),decay:l(({row:s})=>[y(k,{type:"decay","show-difference":!1,total:s.decay,showZeroValues:!0,class:"no-margin"},null,8,["total"])]),decayPercent:l(({row:s})=>[y(k,{type:"decayPercent","show-difference":!1,total:s.decayPercent,showZeroValues:!0,class:"no-margin"},null,8,["total"])]),performance:l(({row:s})=>[y(C,{points:s.points,peak:s.peak,recovering:s.recovering,height:38},null,8,["points","peak","recovering"])]),diffPosition:l(({row:s})=>[s.difference.comparison?(r(),f(k,{key:0,type:"position","show-original":!1,difference:s.difference.position,"tooltip-offset":"-100px,0"},null,8,["difference"])):m("",!0)]),diffDecay:l(({row:s})=>[s.difference.comparison?(r(),f(k,{key:0,type:"diffDecay","show-original":!1,difference:s.difference.decay,"tooltip-offset":"-100px,0"},null,8,["difference"])):m("",!0)]),cta:l(()=>[t.showUpsell?(r(),f(F,{key:0,"cta-link":t.links.getPricingUrl("search-statistics","search-statistics-upsell",null,t.rootStore.isPro?"pricing":"liteUpgrade"),"button-text":n.strings.ctaButtonText,"learn-more-link":t.links.getUpsellUrl("search-statistics","search-statistics-upsell",t.rootStore.isPro?"pricing":"liteUpgrade"),"hide-bonus":!t.licenseStore.isUnlicensed},{"header-text":l(()=>[w(d(n.strings.ctaHeader),1)]),_:1},8,["cta-link","button-text","learn-more-link","hide-bonus"])):m("",!0)]),_:1},8,["id","columns","rows","totals","filters","additional-filters","selected-filters","loading","initial-page-number","initial-search-term","initial-items-per-page","show-header","show-table-footer","show-items-per-page","blur-rows","onFilterTable","onProcessAdditionalFilters","onAdditionalFilterOptionSelected","onPaginate","onProcessChangeItemsPerPage","onSearch","onSortColumn"])])}const _t=T(He,[["render",Xe]]);export{_t as P};
