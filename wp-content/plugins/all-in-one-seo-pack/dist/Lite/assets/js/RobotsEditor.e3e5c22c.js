const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.__aioseoDynamicImportPreload__("js/vendor-draggable.3c6d8b8e.js"),window.__aioseoDynamicImportPreload__("js/vendor-other.2cdd5822.js"),window.__aioseoDynamicImportPreload__("js/vendor-vue-ui.d70c869f.js"),window.__aioseoDynamicImportPreload__("css/vendor-vue-ui.dbee72c8.css")])))=>i.map(i=>d[i]);
import{ah as ee,ai as U,aj as te,d as E,ak as V,al as oe,z as se,G as re,b as ie,x as le,c as ne,A as ae,k as de,_ as ce}from"./app-core.61d75c0b.js";import{u as ue}from"./Network.75a8df39.js";import{C as be,_ as me}from"./Button.7fa2ada4.js";import{B as he}from"./Editor.5161eaed.js";import{C as z}from"./Index.104764b8.js";import{C as pe}from"./Card.357796d1.js";import{C as _e}from"./Index.67f2fc23.js";import{C as ge}from"./NetworkSiteSelector.ad9eb8a0.js";import{C as fe}from"./SettingsRow.483d3796.js";import{as as b,f as h,i as g,O,ad as N,Q as C,R as m,j as i,U as u,M as R,a0 as d,ae as _,P as we,Y as B,T as I,a5 as F,aj as Re}from"./vendor-vue-ui.d70c869f.js";import{_ as xe,a as ve}from"./UnwantedBots.b22a1400.js";import{_ as G}from"./_plugin-vue_export-helper.eefbdd86.js";import{a as x,_ as n,c as ke}from"./vendor-other.2cdd5822.js";import{S as Te}from"./Plus.ad79c23b.js";import{S as Se}from"./Drag.b6aceda0.js";import{S as ye}from"./Ellipse.75c56834.js";import{S as Ie}from"./External.8fb031e3.js";import{_ as Ce}from"./Trash.effd183e.js";import{S as Ae}from"./Upload.f761f8c1.js";import"./vendor-datetime.430013a3.js";import"./vendor-lodash.f9514987.js";import"./vendor-quill.d8afd3e5.js";import"./Input.74b8f197.js";import"./Pencil.acabfd26.js";import"./Caret.c4a084e6.js";import"./Close.cee3494e.js";import"./Tooltip.7f0ce0d2.js";import"./Slide.4a56936c.js";import"./Row.0a3f58c3.js";import"./RadioToggle.5907226a.js";import"./Checkbox.02461d14.js";import"./Checkmark.8da35047.js";const v="all-in-one-seo-pack",Oe={components:{CoreAlert:z},props:{errors:{type:Array,required:!0}},data(){return{strings:{allowTakesPrecedence:n('The "Allow" rule takes precedence.',v),fromTheNetwork:n("from the network level",v),invalidCleanParam:n("Clean-param must start with at least one param which is optionally followed by one path.",v),invalidCrawlDelay:n("Crawl-delay must be a number starting from 1.",v),conflictingCrawlDelay:n('For some crawlers, encountering conflicting "Crawl-delay" might lead to unpredictable behavior.',v),networkRuleTakesPrecedence:n("The network rule takes precedence.",v)}}},computed:{errorsByType(){return this.errors.reduce((e,t)=>(e[t.type]||(e[t.type]=[]),e[t.type].push(t),e),{})}},methods:{getErrorMessage(e){return e.message==="duplicateRule"?x(n("This rule is a duplicate of rule #%1$s%2$s.",v),e.duplicateIndex,e.isNetworkIndex?` (${this.strings.fromTheNetwork})`:""):e.message==="equivalentPath"?x(n("Equivalent to rule #%1$s%2$s. The trailing wildcard is ignored.",v),e.equivalentIndex,e.isNetworkIndex?` (${this.strings.fromTheNetwork})`:""):e.message==="conflictingPath"?x(n("This rule conflicts with rule #%1$s%2$s.%3$s",v),e.conflictingIndex,e.isNetworkIndex?` (${this.strings.fromTheNetwork})`:"",e.isNetworkIndex?` ${this.strings.networkRuleTakesPrecedence}`:` ${this.strings.allowTakesPrecedence}`):e.message==="defaultRuleOverride"?x(n("This rule overrides the default rule #%1$s%2$s.",v),e.overriddenIndex,e.isNetworkIndex?` (${this.strings.fromTheNetwork})`:""):e.message==="conflictingCrawlDelay"?x(n("This rule conflicts with rule #%1$s%2$s.%3$s",v),e.conflictingIndex,e.isNetworkIndex?` (${this.strings.fromTheNetwork})`:"",` ${this.strings.conflictingCrawlDelay}`):this.strings[e.message]}}},De={key:0,class:"robots-editor-rule-error-alert"};function Ue(e,t,r,l,o,s){const T=b("core-alert");return r.errors.length?(h(),g("div",De,[(h(!0),g(O,null,N(s.errorsByType,(p,f)=>(h(),C(T,{key:f+"-errors",type:f,size:"small"},{default:m(()=>[(h(!0),g(O,null,N(p,(y,S)=>(h(),g("div",{key:S},[i("b",null,u(s.getErrorMessage(y)),1)]))),128))]),_:2},1032,["type"]))),128))])):R("",!0)}const Ve=G(Oe,[["render",Ue]]),Ne=Re(()=>ce(()=>import("./vendor-draggable.3c6d8b8e.js").then(e=>e.v),__vite__mapDeps([0,1,2,3]),import.meta.url)),c="all-in-one-seo-pack",Le={setup(){const{isMainSite:e}=ue();return{licenseStore:de(),networkStore:ae(),notificationsStore:ne(),optionsStore:le(),rootStore:ie(),GLOBAL_STRINGS:re,isMainSite:e,links:E}},components:{BaseButton:me,BaseEditor:he,CoreAlert:z,CoreCard:pe,CoreLoader:be,CoreModal:_e,CoreNetworkSiteSelector:ge,CoreSettingsRow:fe,Draggable:Ne,PreventCrawling:ve,RuleErrors:Ve,SvgCirclePlus:Te,SvgDrag:Se,SvgEllipse:ye,SvgExternal:Ie,SvgTrash:Ce,SvgUpload:Ae,UnwantedBots:xe},data(){return{defaultRules:this.rootStore.aioseo.data.robots?.defaultRules||{},directiveOptions:[{value:"allow",label:"Allow"},{value:"disallow",label:"Disallow"},{value:"clean-param",label:"Clean-param"},{value:"crawl-delay",label:"Crawl-delay"}],errors:{deleteRobotsTxt:null,importAndDeleteRobotsTxt:null,importRobotsTxt:null,importRobotsTxtFromUrl:null,pasteRobotsTxtText:null,tableRule:[]},forceRobotsDetectedAlert:!1,inputImportRobotsTxtFromUrl:"",inputPasteRobotsTxtText:"",license:se,loading:{btnDeleteRobotsTxt:!1,btnImportAndDeleteRobotsTxt:!1,btnImportRobotsTxt:!1,cardOverlay:!1},showImportModal:!1,previousUnwantedBots:{googleAdsBot:!1,googleGeminiVertexAiBots:!1,openAiGptBot:!1,commonCrawlCcBot:!1},strings:{addRule:n("Add Rule",c),allow:n("Allow",c),customRobotsPreview:n("Custom Robots.txt Preview",c),deleteRule:n("Delete Rule",c),description:x(n("The robots.txt editor in %1$s allows you to set up a robots.txt file for your site that will override the default robots.txt file that WordPress creates. By creating a robots.txt file with %2$s you have greater control over the instructions you give web crawlers about your site.",c),"AIOSEO","AIOSEO"),description2:x(n("Just like WordPress, %1$s generates a dynamic file so there is no static file to be found on your server.  The content of the robots.txt file is stored in your WordPress database.",c),"All in One SEO"),directive:n("Directive",c),disallow:n("Disallow",c),enableCustomRobots:n("Enable Custom Robots.txt",c),importAndDelete:n("Import and Delete",c),importFromUrl:n("Import from URL",c),importRobots:n("Import Robots.txt",c),networkAlert:n("These custom robots.txt rules will apply globally to your entire network. To adjust the robots.txt rules for an individual site, please choose it in the list above.",c),networkAlertLite:n("These custom robots.txt rules will apply globally to your entire network. To adjust the robots.txt rules for an individual site, please visit the dashboard for that site directly and update the settings there.",c),invalidRobotsTxtUrl:n("Invalid robots.txt URL.",c),openRobotsTxt:n("Open Robots.txt",c),pasteRobotsText:n("Paste Robots.txt text",c),userAgentNotFound:n("No User-agent found in the content beginning.",c),pasteUrl:n("https://any-domain.com/robots.txt",c),physicalRobotsFound:x(n("%1$s has detected a physical robots.txt file in the root folder of your WordPress installation. We recommend removing this file as it could cause conflicts with WordPress' dynamically generated one. %2$s can import this file and delete it, or you can simply delete it.",c),"AIOSEO","AIOSEO"),robotsEditor:n("Robots.txt Editor",c),selectSite:n("Select Site",c),userAgent:n("User Agent",c)}}},watch:{async"networkStore.currentSite"(){this.loading.cardOverlay=!0;try{await Promise.all([this.networkStore.fetchSiteRobots(this.networkStore.currentSite.blog_id),this.optionsStore.fetchOptions(this.networkStore.currentSite.blog_id)])}catch(e){console.error(e)}finally{this.loading.cardOverlay=!1}},"getOptions.enable"(){this.validateRules(),this.maybeForceRobotsDetectedAlert()}},computed:{btnImportRobotsTxtDisabled(){return!this.inputImportRobotsTxtFromUrl&&!this.inputPasteRobotsTxtText?!0:this.errors.importRobotsTxtFromUrl||this.errors.pasteRobotsTxtText},getOptions(){return this.networkStore.currentSite?.blog_id==="network"?this.networkStore.getNetworkRobots:this.optionsStore.options.tools.robots},inputCustomRobotsTxtPreview(){let e=null;const t=`\r
`+this.rootStore.aioseo.data.robots.sitemapUrls.filter(l=>0<l.length).join(`\r
`),r=this.isNetworkSite&&this.optionsStore.networkOptions.tools.robots.enable?V(this.networkStore.getNetworkRobots.rules):{};return e=this.getOptions.enable?this.mergeRuleset(this.defaultRules,this.mergeRuleset(r,V(this.networkStore.networkRobots.rules)),!0):this.mergeRuleset(this.defaultRules,this.mergeRuleset(r,V(this.readOnlyRules))),e=oe(e)+t,e.replace(/<[^>]*>/g,"")},isNetworkSite(){return this.rootStore.aioseo.data.isMultisite&&this.networkStore.currentSite?.blog_id!=="network"},isValidRobotsSite(){return new URL(this.robotsTxtUrl).pathname.match(/^\/robots.txt\/?/)?this.rootStore.aioseo.data.subdomain||this.networkStore.currentSite?.blog_id==="network"||this.isMainSite(this.networkStore.currentSite.domain,this.networkStore.currentSite.path)||!this.rootStore.aioseo.data.isNetworkAdmin&&this.rootStore.aioseo.data.mainSite:!1},missingRewriteRules(){const e=n("It looks like you are missing the proper rewrite rules for the robots.txt file.",c);let t="";if(this.rootStore.aioseo.data.server.match(/apache|litespeed/)){const r=this.rootStore.aioseo.data.server==="apache"?"Apache":"LiteSpeed";t=x(n("It appears that your server is running on %1$s, so the fix should be as simple as checking the %2$scorrect .htaccess implementation on wordpress.org%3$s.",c),r,'<a href="https://wordpress.org/support/article/htaccess/" target="_blank">',"</a>")}else this.rootStore.aioseo.data.server==="nginx"&&(t=x(n("It appears that your server is running on nginx, so the fix will most likely require adding the correct rewrite rules to our nginx configuration. %1$sCheck our documentation for more information%2$s.",c),'<a href="'+E.getDocUrl("robotsRewrite")+'" target="_blank">',"</a>"));return e+" "+t},parsedCustomRules(){const e=[];for(const t of this.networkStore.networkRobots.rules.values()){const r=JSON.parse(t);e.push({userAgent:r.userAgent,directive:r.directive,fieldValue:r.fieldValue,default:!1,networkLevel:!1})}return e},parsedDefaultRules(){const e=[];return Object.keys(this.defaultRules).forEach(t=>{for(const r of this.defaultRules[t].values()){const[l,o]=r.split(":").map(s=>s.trim());e.push({userAgent:t,directive:l,fieldValue:o,default:!0,networkLevel:!1})}}),e},parsedNetworkRules(){const e=this.isNetworkSite&&this.optionsStore.networkOptions.tools.robots.enable?this.networkStore.getNetworkRobots.rules:{},t=[];if(Object.keys(e).length)for(const r of e.values()){const l=JSON.parse(r);t.push({userAgent:l.userAgent,directive:l.directive,fieldValue:l.fieldValue,default:!1,networkLevel:!0})}return t},robotsPreviewErrorLabel(){const e=this.errors.tableRule.length?this.errors.tableRule.filter(l=>l.type==="red"):[];if(!e.length)return"";const t=U(e,"previewIndex"),r=te(t).length;return x(ke("%1$s Error","%1$s Errors",r,c),r)},robotsTxtUrl(){return this.networkStore.currentSite?.blog_id!=="network"&&this.networkStore.currentSite?.domain?`${this.rootStore.aioseo.data.isSsl?"https://":"http://"}${this.networkStore.currentSite.domain}${this.networkStore.currentSite.path}robots.txt`:this.rootStore.aioseo.urls.robotsTxtUrl},subdirectoryAlert(){return this.isNetworkSite?x(n("This site is running in a sub-directory of your main site located at %1$s. Your robots.txt file should only appear in the root directory of that site.",c),'<a href="'+this.rootStore.aioseo.urls.mainSiteUrl+'" target="_blank"><strong>'+this.rootStore.aioseo.urls.mainSiteUrl+"</strong></a>"):n("This site runs in a sub-directory. The robots.txt file must be located at the root of the website host to which it applies.",c)},showRobotsDetectedAlert(){return this.getOptions.robotsDetected||this.forceRobotsDetectedAlert},tableRules:{get(){return this.networkStore.networkRobots.rules.map(e=>JSON.parse(e))},set(e){const t=[];e.forEach(r=>{t.push(JSON.stringify({...r}))}),this.networkStore.networkRobots.rules=t}},readOnlyRules(){return this.networkStore.networkRobots.rules.filter(e=>JSON.parse(e).readOnly)}},methods:{addRow(){this.networkStore.networkRobots.rules.push(JSON.stringify({userAgent:null,directive:"allow",fieldValue:null,readOnly:!1})),this.$nextTick(()=>{document.querySelector(".robots-editor-table__body .robots-editor-table__row:last-child input").focus()})},deleteRow(e){this.networkStore.networkRobots.rules.splice(e,1)},getTableIndexedRuleset(){const e=[],t=[],r=[...this.parsedDefaultRules,...this.parsedNetworkRules,...this.parsedCustomRules];let l=this.parsedDefaultRules.length,o=0;return r.forEach(s=>{s.tableIndex=s.networkLevel?++l:++o,t.push(s)}),t.forEach(s=>{if(!e[s.userAgent]){e[s.userAgent]=[s];return}e[s.userAgent].push(s)}),e},getTableRuleErrors(e,t){return this.errors.tableRule.length?this.errors.tableRule.filter(r=>r.hash===`${e}${t.userAgent}${t.directive}${t.fieldValue}`):[]},hasTableRuleError(e,t){return this.errors.tableRule.find(r=>{const l=e===(r.duplicateIndex||r.equivalentIndex||r.conflictingIndex)&&!r.isNetworkIndex,o=r.hash===`${e}${t.userAgent}${t.directive}${t.fieldValue}`;return l||o})||!1},hideRobotsDetected(){this.getOptions.robotsDetected=!1,this.optionsStore.saveChanges()},maybeForceRobotsDetectedAlert(){this.getOptions.enable||(this.forceRobotsDetectedAlert=!1),this.getOptions.enable&&this.rootStore.aioseo.data.robots.hasPhysicalRobots&&(this.forceRobotsDetectedAlert=!0)},mergeRuleset(e,t,r=!1){const l={...e};return Object.keys(t).forEach(o=>{if(!(o in l)){l[o]=t[o];return}for(const s of t[o].values()){const[T,p]=s.split(":").map(f=>f.trim());if(T.match(/disallow|allow/i)){const f=T==="disallow"?"allow":"disallow",y=l[o].indexOf(`${f}: ${p}`);y!==-1&&(r?l[o]=l[o].filter((S,D)=>D!==y):t[o]=t[o].filter(S=>S!==`${T}: ${p}`))}}l[o]=[...l[o],...t[o]]}),l},onChangeInputImportRobotsTxtFromUrl(e){this.inputImportRobotsTxtFromUrl=e,this.errors.importRobotsTxtFromUrl=null,e&&!e.match(/^https?:\/\/.{2,}\..{2,}\/robots\.txt$/)&&(this.errors.importRobotsTxtFromUrl=this.strings.invalidRobotsTxtUrl)},onChangeInputPasteRobotsTxtText(e){this.inputPasteRobotsTxtText=e.replace(/#[^\n\r]*/g,""),this.errors.pasteRobotsTxtText=null,this.inputPasteRobotsTxtText&&!this.inputPasteRobotsTxtText.match(/^\s*user-agent:\s*./gi)&&(this.errors.pasteRobotsTxtText=this.strings.userAgentNotFound)},onClickBtnDeleteRobotsTxt(){this.loading.btnDeleteRobotsTxt=!0,this.notificationsStore.processButtonAction("tools/delete-robots-txt").then(()=>window.location.reload()).catch(e=>{this.loading.btnDeleteRobotsTxt=!1,this.errors.deleteRobotsTxt=e?.response?.body?.message||null})},onClickBtnImportAndDeleteRobotsTxt(){this.loading.btnImportAndDeleteRobotsTxt=!0,this.processImportRobotsTxt("static").then(()=>{window.location.reload()}).catch(e=>{this.loading.btnImportAndDeleteRobotsTxt=!1,this.errors.importAndDeleteRobotsTxt=e?.response?.body?.message||null})},onClickBtnImportRobotsTxt(e){this.loading.btnImportRobotsTxt=!0,this.processImportRobotsTxt(e).then(()=>window.location.reload()).catch(t=>{this.loading.btnImportRobotsTxt=!1,this.errors.importRobotsTxt=t?.response?.body?.message||null})},processImportRobotsTxt(e){return this.networkStore.importRobotsTxt({source:e,url:this.inputImportRobotsTxtFromUrl,text:this.inputPasteRobotsTxtText,blogId:this.networkStore.currentSite?.blog_id||null})},sanitizeDirectiveValue(e,t,r){return r=decodeURIComponent(r.trim()),r&&(r=r.replace(/[><]/,""),t==="userAgent"&&(r=r.replace(/([^a-z0-9\-_*,.\s])/gi,""),r=r.replace(/\s+/g," ")),t==="fieldValue"&&e.directive.match(/allow|disallow/)&&(r=r.indexOf("*")===0&&1<r.length?r:"/"+r.replace(/(^\/+)/,"")),r)},async updateRule(e,t,r,l){this.networkStore.networkRobots.rules.splice(l,1,JSON.stringify(e)),await this.$nextTick(),e[t]=this.sanitizeDirectiveValue(e,t,r),this.networkStore.networkRobots.rules.splice(l,1,JSON.stringify(e))},validateRules(){if(!this.getOptions.enable)return this.errors.tableRule=[],!1;try{ee(this.getTableIndexedRuleset()),this.errors.tableRule=[]}catch(e){this.errors.tableRule=e,this.$nextTick(()=>{const t=this.errors.tableRule.length?this.errors.tableRule.filter(p=>p.type==="red"):[],r=this.$refs["input-custom-robots-txt-preview"]?.$el.querySelector(".ql-editor")||null;if(!r)return!1;const l=r.querySelectorAll("p"),o=U(t,"previewIndex"),s=U(t,"sourcePreviewIndex"),T=[...new Set([...o,...s])];for(const p of T)l[p-1]&&l[p-1].classList.add("has-error")})}}},beforeUnmount(){window.aioseoBus.$off("validate-robots-txt")},mounted(){this.validateRules(),this.maybeForceRobotsDetectedAlert(),window.aioseoBus.$on("validate-robots-txt",()=>{this.validateRules()})}},Pe={class:"aioseo-tools-robots-editor"},Ee={key:0,class:"aioseo-settings-row"},Be={class:"settings-name"},Fe={class:"name small-margin"},ze={class:"aioseo-settings-content"},Ge={class:"aioseo-settings-row"},Me={class:"description"},qe={class:"description"},je=["innerHTML"],Je={key:1,class:"aioseo-settings-row"},He={class:"description"},We={class:"buttons description"},Ye={key:2,class:"aioseo-settings-row"},Qe={class:"aioseo-settings-row"},Ke={class:"aioseo-settings-content"},Xe={class:"robots-editor-table"},Ze={class:"robots-editor-table__header"},$e={class:"robots-editor-table__row"},et={class:"robots-editor-table__column"},tt={class:"robots-editor-table__column"},ot={class:"robots-editor-table__column"},st={class:"robots-editor-table__body"},rt={class:"robots-editor-table__column"},it={class:"robots-editor-table__column"},lt={class:"robots-editor-table__column"},nt={class:"robots-editor-table__column"},at={class:"robots-editor-table__column robots-editor-table__column--truncate"},dt={class:"robots-editor-table__column"},ct={class:"robots-editor-table__column"},ut={class:"robots-editor-table__column"},bt={key:0,class:"robots-editor-table__column robots-editor-table__column--actions"},mt=["onClick","title"],ht={class:"robots-editor-table__footer"},pt={class:"buttons"},_t={class:"unwanted-bots-wrapper"},gt={class:"aioseo-settings-row aioseo-settings-row--preview-robots no-margin"},ft={class:"settings-name"},wt={class:"name"},Rt={key:0,class:"aioseo-error"},xt={class:"aioseo-settings-content"},vt={key:0,class:"aioseo-settings-row no-margin no-border"},kt=["data-or"],Tt={class:"settings-name"},St={class:"name small-margin"},yt={class:"aioseo-settings-content aioseo-settings-content--gap"},It={class:"aioseo-settings-row"},Ct={class:"settings-name"},At={class:"name small-margin"},Ot={class:"aioseo-settings-content aioseo-settings-content--gap"},Dt={class:"buttons"},Ut={key:5,class:"loader-overlay"};function Vt(e,t,r,l,o,s){const T=b("core-network-site-selector"),p=b("core-alert"),f=b("base-button"),y=b("svg-external"),S=b("core-settings-row"),D=b("base-toggle"),A=b("base-input"),L=b("base-select"),M=b("svg-trash"),q=b("svg-drag"),j=b("rule-errors"),J=b("draggable"),H=b("svg-circle-plus"),W=b("svg-upload"),Y=b("unwanted-bots"),Q=b("prevent-crawling"),K=b("svg-ellipse"),P=b("base-editor"),X=b("core-modal"),Z=b("core-loader"),$=b("core-card");return h(),g("div",Pe,[d($,{slug:"robotsEditor","header-text":o.strings.robotsEditor},{default:m(()=>[l.rootStore.aioseo.data.isNetworkAdmin&&!l.licenseStore.isUnlicensed&&o.license.hasCoreFeature("tools","network-tools-robots")?(h(),g("div",Ee,[i("div",Be,[i("div",Fe,u(o.strings.selectSite),1)]),i("div",ze,[d(T,{onSelectedSite:t[0]||(t[0]=a=>{l.networkStore.currentSite=a}),"follow-selected-site":"","show-network":""})])])):R("",!0),i("div",Ge,[l.networkStore.currentSite?.blog_id==="network"?(h(),C(p,{key:0},{default:m(()=>[_(u(l.licenseStore.isUnlicensed||!o.license.hasCoreFeature("tools","network-tools-robots")?o.strings.networkAlertLite:o.strings.networkAlert),1)]),_:1})):R("",!0),i("p",Me,u(o.strings.description),1),i("p",qe,[_(u(o.strings.description2)+" ",1),i("span",{innerHTML:l.links.getDocLink(l.GLOBAL_STRINGS.learnMore,"robotsEditor",!0)},null,8,je)])]),l.rootStore.aioseo.data.robots.hasPhysicalRobots&&s.showRobotsDetectedAlert?(h(),g("div",Je,[o.errors.importAndDeleteRobotsTxt||o.errors.deleteRobotsTxt?(h(),C(p,{key:0,type:"red"},{default:m(()=>[_(u(o.errors.importAndDeleteRobotsTxt||o.errors.deleteRobotsTxt),1)]),_:1})):R("",!0),d(p,{type:"red","show-close":!s.getOptions.enable,onCloseAlert:s.hideRobotsDetected},{default:m(()=>[i("p",He,u(o.strings.physicalRobotsFound),1),i("p",We,[d(f,{type:"blue",size:"medium",onClick:s.onClickBtnImportAndDeleteRobotsTxt,loading:o.loading.btnImportAndDeleteRobotsTxt},{default:m(()=>[_(u(o.strings.importAndDelete),1)]),_:1},8,["onClick","loading"]),d(f,{type:"blue",size:"medium",onClick:s.onClickBtnDeleteRobotsTxt,loading:o.loading.btnDeleteRobotsTxt},{default:m(()=>[_(u(l.GLOBAL_STRINGS.delete),1)]),_:1},8,["onClick","loading"])])]),_:1},8,["show-close","onCloseAlert"])])):R("",!0),l.rootStore.aioseo.data.robots.rewriteExists?R("",!0):(h(),g("div",Ye,[d(p,{type:"red",innerHTML:s.missingRewriteRules},null,8,["innerHTML"])])),s.isValidRobotsSite?(h(),g(O,{key:3},[d(S,{name:l.GLOBAL_STRINGS.preview},{content:m(()=>[d(f,{size:"medium",type:"blue",tag:"a",href:s.robotsTxtUrl,target:"_blank"},{default:m(()=>[d(y,{width:"14"}),_(" "+u(o.strings.openRobotsTxt),1)]),_:1},8,["href"])]),_:1},8,["name"]),d(S,{name:o.strings.enableCustomRobots,class:"no-border no-margin"},{content:m(()=>[d(D,{modelValue:s.getOptions.enable,"onUpdate:modelValue":t[1]||(t[1]=a=>s.getOptions.enable=a)},null,8,["modelValue"])]),_:1},8,["name"]),i("div",Qe,[i("div",Ke,[i("div",Xe,[i("div",Ze,[i("div",$e,[t[11]||(t[11]=i("div",{class:"robots-editor-table__column"},"#",-1)),i("div",et,u(o.strings.userAgent),1),i("div",tt,u(o.strings.directive),1),i("div",ot,u(l.GLOBAL_STRINGS.value),1),t[12]||(t[12]=i("div",{class:"robots-editor-table__column"},null,-1))])]),i("div",st,[(h(!0),g(O,null,N(s.parsedDefaultRules,(a,k)=>(h(),g("div",{key:k,class:"robots-editor-table__row robots-editor-table__row--stripe"},[i("div",rt,u(k+1),1),i("div",it,[d(A,{modelValue:a.userAgent,disabled:a.default,size:"medium"},null,8,["modelValue","disabled"])]),i("div",lt,[d(L,{modelValue:o.directiveOptions.find(w=>w.value===a.directive),options:[],disabled:a.default,size:"medium"},null,8,["modelValue","disabled"])]),i("div",nt,[d(A,{modelValue:a.fieldValue,disabled:a.default,size:"medium"},null,8,["modelValue","disabled"])]),t[13]||(t[13]=i("div",{class:"robots-editor-table__column"},null,-1))]))),128)),d(J,{handle:".aioseo-drag-wrapper",modelValue:s.tableRules,"onUpdate:modelValue":t[3]||(t[3]=a=>s.tableRules=a),"item-key":e.$.uid.toString(),class:"draggable-rules",draggable:".robots-editor-table__row--draggable"},{item:m(({element:a,index:k})=>[i("div",{class:we(["robots-editor-table__row robots-editor-table__row--stripe",[{"aioseo-error":s.hasTableRuleError(k+s.parsedDefaultRules.length+1,a)},{"robots-editor-table__row--draggable":!a.readOnly}]])},[i("div",at,u(k+s.parsedDefaultRules.length+1),1),i("div",dt,[d(A,{modelValue:a.userAgent,"onUpdate:modelValue":w=>a.userAgent=w,spellcheck:!1,disabled:!s.getOptions.enable||a.readOnly,onChange:w=>s.updateRule(a,"userAgent",w,k),size:"medium"},null,8,["modelValue","onUpdate:modelValue","disabled","onChange"])]),i("div",ct,[d(L,{modelValue:o.directiveOptions.find(w=>w.value===a.directive),options:o.directiveOptions,disabled:!s.getOptions.enable||a.readOnly,"onUpdate:modelValue":w=>s.updateRule(a,"directive",w.value,k),size:"medium"},null,8,["modelValue","options","disabled","onUpdate:modelValue"])]),i("div",ut,[d(A,{modelValue:a.fieldValue,"onUpdate:modelValue":w=>a.fieldValue=w,spellcheck:!1,disabled:!s.getOptions.enable||a.readOnly,onChange:w=>s.updateRule(a,"fieldValue",w,k),size:"medium"},null,8,["modelValue","onUpdate:modelValue","disabled","onChange"])]),a.readOnly?R("",!0):(h(),g("div",bt,[B(i("a",{onClick:I(w=>s.deleteRow(k),["prevent"]),href:"#",role:"button",class:"btn-delete-rule aioseo-outline",title:o.strings.deleteRule},[d(M,{width:"20"})],8,mt),[[F,s.getOptions.enable]]),B(i("a",{onClick:t[2]||(t[2]=I(()=>{},["prevent"])),href:"#",role:"button",class:"aioseo-drag-wrapper aioseo-outline"},[d(q,{width:"20"})],512),[[F,s.getOptions.enable]])])),d(j,{errors:s.getTableRuleErrors(k+s.parsedDefaultRules.length+1,a),class:"robots-editor-table__column robots-editor-table__column--rule-error"},null,8,["errors"])],2)]),_:1},8,["modelValue","item-key"])]),i("div",ht,[i("div",pt,[d(f,{onClick:I(s.addRow,["exact"]),disabled:!s.getOptions.enable,class:"btn-add-rule",type:"black",size:"small"},{default:m(()=>[d(H,{width:"14"}),_(" "+u(o.strings.addRule),1)]),_:1},8,["onClick","disabled"]),d(f,{onClick:t[4]||(t[4]=I(a=>o.showImportModal=!0,["prevent"])),disabled:!s.getOptions.enable,type:"black",size:"small"},{default:m(()=>[d(W,{width:"14"}),_(" "+u(l.GLOBAL_STRINGS.import),1)]),_:1},8,["disabled"])])])])])]),i("div",_t,[d(Y,{showAlert:!1,showDescription:!1})]),d(Q,{showAlert:!1}),i("div",gt,[i("div",ft,[i("div",wt,[_(u(o.strings.customRobotsPreview)+" ",1),s.robotsPreviewErrorLabel?(h(),g("div",Rt,[d(K,{width:"8"}),i("span",null,u(s.robotsPreviewErrorLabel),1)])):R("",!0)])]),i("div",xt,[d(P,{modelValue:s.inputCustomRobotsTxtPreview,"line-numbers":!0,disabled:"","force-updates":"",monospace:"",ref:"input-custom-robots-txt-preview"},null,8,["modelValue"])])])],64)):(h(),C(p,{key:4,innerHTML:s.subdirectoryAlert},null,8,["innerHTML"])),d(X,{show:o.showImportModal,onClose:t[10]||(t[10]=a=>o.showImportModal=!1),classes:["aioseo-robots-import-modal"]},{headerTitle:m(()=>[_(u(o.strings.importRobots),1)]),body:m(()=>[o.errors.importRobotsTxt?(h(),g("div",vt,[d(p,{type:"red","show-close":"",onCloseAlert:t[5]||(t[5]=a=>o.errors.importRobotsTxt=null)},{default:m(()=>[_(u(o.errors.importRobotsTxt),1)]),_:1})])):R("",!0),i("div",{class:"aioseo-settings-row aioseo-settings-row--or","data-or":l.GLOBAL_STRINGS.or},[i("div",Tt,[i("div",St,u(o.strings.importFromUrl),1)]),i("div",yt,[d(A,{modelValue:o.inputImportRobotsTxtFromUrl,"onUpdate:modelValue":t[6]||(t[6]=a=>s.onChangeInputImportRobotsTxtFromUrl(a)),placeholder:o.strings.pasteUrl,disabled:!!o.inputPasteRobotsTxtText,type:"url",size:"medium"},null,8,["modelValue","placeholder","disabled"]),o.errors.importRobotsTxtFromUrl?(h(),C(p,{key:0,type:"red",size:"small"},{default:m(()=>[_(u(o.errors.importRobotsTxtFromUrl),1)]),_:1})):R("",!0)])],8,kt),i("div",It,[i("div",Ct,[i("div",At,u(o.strings.pasteRobotsText),1)]),i("div",Ot,[d(P,{modelValue:o.inputPasteRobotsTxtText,"onUpdate:modelValue":t[7]||(t[7]=a=>s.onChangeInputPasteRobotsTxtText(a)),"line-numbers":!0,"minimum-line-numbers":10,disabled:!!o.inputImportRobotsTxtFromUrl,spellcheck:!1,monospace:""},null,8,["modelValue","disabled"]),o.errors.pasteRobotsTxtText?(h(),C(p,{key:0,type:"red",size:"small"},{default:m(()=>[_(u(o.errors.pasteRobotsTxtText),1)]),_:1})):R("",!0)])])]),footer:m(()=>[i("div",Dt,[d(f,{onClick:t[8]||(t[8]=I(a=>o.showImportModal=!1,["exact"])),type:"gray",size:"medium"},{default:m(()=>[_(u(l.GLOBAL_STRINGS.cancel),1)]),_:1}),d(f,{onClick:t[9]||(t[9]=I(a=>s.onClickBtnImportRobotsTxt(o.inputImportRobotsTxtFromUrl?"url":"text"),["exact"])),loading:o.loading.btnImportRobotsTxt,disabled:!!s.btnImportRobotsTxtDisabled,type:"blue",size:"medium"},{default:m(()=>[_(u(l.GLOBAL_STRINGS.import),1)]),_:1},8,["loading","disabled"])])]),_:1},8,["show"]),o.loading.cardOverlay?(h(),g("div",Ut,[d(Z)])):R("",!0)]),_:1},8,["header-text"])])}const mo=G(Le,[["render",Vt]]);export{mo as default};
