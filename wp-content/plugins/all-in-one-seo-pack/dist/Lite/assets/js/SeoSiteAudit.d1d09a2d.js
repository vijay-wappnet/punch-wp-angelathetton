import{y as M,b6 as D,B as ee,h as te,aG as se,b as V,d as W,G as oe,k as ae}from"./app-core.61d75c0b.js";import{C as E}from"./Blur.d9f10327.js";import{C as N}from"./Card.357796d1.js";import{C as ne}from"./DonutChartWithLegend.e75d399f.js";import{C as B}from"./Tooltip.7f0ce0d2.js";import{C as ie}from"./Tabs.eadf9edf.js";import{u as Y}from"./WpTable.90f63b18.js";import{_ as I}from"./_plugin-vue_export-helper.eefbdd86.js";import{f as t,i as _,U as r,P as R,a0 as y,R as s,j as p,ae as T,v as e,M as d,u as K,b as le,Q as f,r as O,as as q,af as j,S as re,B as ue}from"./vendor-vue-ui.d70c869f.js";import{S as ce}from"./Info.8431990c.js";import{_ as o,a as Q}from"./vendor-other.2cdd5822.js";import{C as J}from"./Table.ce454218.js";import{C as de}from"./Button.7fa2ada4.js";import{a as X,S as pe}from"./Pencil.acabfd26.js";import{S as _e}from"./Information.c3ceadd3.js";import{S as Z}from"./Trash.effd183e.js";import{S as me}from"./Gear.4cb847e8.js";import{S as ye}from"./Caret.c4a084e6.js";import{g as ge}from"./utils.51785cc7.js";import{C as fe}from"./Index.234cfb98.js";import"./vendor-datetime.430013a3.js";import"./vendor-lodash.f9514987.js";import"./Close.cee3494e.js";import"./Slide.4a56936c.js";import"./DonutChart.4dd7eab2.js";import"./AnimatedNumber.4be1f885.js";import"./Loading.feb676f0.js";import"./ProBadge.3cd57c7c.js";import"./ScrollTo.f4df02aa.js";import"./Index.104764b8.js";import"./Download.84de9e91.js";import"./Row.0a3f58c3.js";const he={__name:"Badge",props:{color:{type:String,default:"black",description:"Badge color(green|red|orange|black)"},text:{type:[String,Number],default:"",description:"Badge text"}},setup(v){return(a,i)=>(t(),_("span",{class:R(["aioseo-badge round",v.color])},r(v.text),3))}},ke=I(he,[["__scopeId","data-v-64238476"]]),be={key:0,class:"aioseo-seo-analysis-post-status-badge"},ve={__name:"PostStatusBadge",props:{status:{type:String,required:!0}},setup(v){const a="all-in-one-seo-pack",i=v,l={tooltip:o("The results for this post may be inaccurate or vary slightly until the post is published.",a)},h=K(()=>i.status==="future"?o("Scheduled",a):i.status.toUpperCase());return(c,u)=>["draft","private","pending","future"].includes(i.status)?(t(),_("div",be,[y(e(B),null,{tooltip:s(()=>[p("span",null,r(l.tooltip),1)]),default:s(()=>[p("span",{class:R(["aioseo-seo-analysis-post-status-badge__status",i.status])},[T(r(h.value)+" ",1),y(e(ce))],2)]),_:1})])):d("",!0)}},Se=I(ve,[["__scopeId","data-v-d5a4d223"]]),xe={class:"aioseo-seo-site-analysis-url-details"},Ae={key:0,class:"result-body"},Ce={class:"result-body-loading"},Te={key:1,class:"aioseo-seo-site-analysis-url-details-results"},we={class:"title"},$e={key:0,class:"aioseo-seo-site-analysis-url-details-results__row-actions"},Ie=["href"],Le={target:"_blank",class:"aioseo-button disabled black small"},Ue=["onClick"],Be={target:"_blank",class:"aioseo-button disabled black small"},G="aioseo-seo-analysis-issues-posts-report-wp-table",Ke={__name:"SiteAuditUrlDetails",props:{result:{type:Object,required:!0}},setup(v){const a="aioseo-pro",i=v,l=M(),h=O(null),c={fixActionText:o("Fix",a),fixActionTooltipText:o("You don't have the required permission to fix this issue.",a),ignoreActionText:o("Ignore",a),ignoreActionTooltipText:o("You don't have the required permission to ignore this issue.",a)},u=`${i.result.id}-${i.result.type.toLowerCase()}`,{pageNumber:x,processFilterTable:w,processSearch:A,searchTerm:P,wpTableKey:L,wpTableLoading:U}=Y({fetchData:l.fetchIssuesByObject,resultsPerPage:l.resultsperPage,tableId:G,tableRef:h.value}),g=K(()=>[{slug:"icon",label:"",width:"44px"},{slug:"title",label:o("Issues",a),width:"100%"},{slug:"actions",label:"",width:"180px"}]);function k(b){return D.strings[b.code]?.title}function n(b){return D.strings[b.code]?.description}function S(b){if(!["author-bio-missing","author-bio-ok"].includes(b.code))return b.fixLink+(D.strings[b.code]?.fixActionParams||"");const m=b.fixLink.includes("profile.php")?"?":"&";return b.fixLink+m+(D.strings[b.code]?.fixActionParams||"")}function C(b){A(b)}function z(b,F){l.doIgnoreIssue(b,F),b?.status==="error"&&(i.result.count=i.result.count-1)}return le(()=>{w({slug:i.result})}),(b,F)=>(t(),_("div",xe,[e(l)?.allUrlsResults.auditItemResults[u]?d("",!0):(t(),_("div",Ae,[p("div",Ce,[y(e(de))])])),e(l)?.allUrlsResults.auditItemResults[u]?(t(),_("div",Te,[(t(),f(e(J),{ref_key:"table",ref:h,class:"posts-table",id:G,columns:g.value,"initial-page-number":e(x),"initial-search-term":e(P),"show-bulk-actions":!1,"show-pagination":!1,key:e(L),loading:e(U),rows:e(l).allUrlsResults.auditItemResults[u].rows,totals:e(l).allUrlsResults.auditItemResults[u].totals,"hide-top-pagination":!0,onSearch:C,"show-search":!1},{icon:s(({row:m})=>[p("div",{class:R(["aioseo-seo-site-analysis-url-details-results__result-icon",`${m.status}-status`])},[m.status==="passed"?(t(),f(e(X),{key:0})):m.status==="error"?(t(),f(e(pe),{key:1})):m.status==="warning"?(t(),f(e(_e),{key:2})):(t(),f(e(me),{key:3}))],2)]),title:s(({row:m})=>[p("div",we,[T(r(k(m))+" ",1),n(m)?.length&&m?.status!=="passed"?(t(),f(e(B),{key:0},{tooltip:s(()=>[T(r(n(m)),1)]),default:s(()=>[y(e(Z))]),_:2},1024)):d("",!0)])]),actions:s(({row:m})=>[m?.status!=="passed"?(t(),_("div",$e,[m.fixLink?(t(),_("a",{key:0,href:S(m),target:"_blank",class:"aioseo-button blue small"},r(c.fixActionText),9,Ie)):d("",!0),m.fixLink?d("",!0):(t(),f(e(B),{key:1},{tooltip:s(()=>[T(r(c.fixActionTooltipText),1)]),default:s(()=>[p("a",Le,r(c.fixActionText),1)]),_:1})),m.fixLink?(t(),_("button",{key:2,type:"button",class:"aioseo-button gray small",onClick:dt=>z(m,e(l).allUrlsResults.auditItemResults[u])},r(c.ignoreActionText),9,Ue)):d("",!0),m.fixLink?d("",!0):(t(),f(e(B),{key:3},{tooltip:s(()=>[T(r(c.ignoreActionTooltipText),1)]),default:s(()=>[p("a",Be,r(c.ignoreActionText),1)]),_:1}))])):d("",!0)]),_:1},8,["columns","initial-page-number","initial-search-term","loading","rows","totals"]))])):d("",!0)]))}},Pe=I(Ke,[["__scopeId","data-v-134ae51c"]]),Re=["id"],De={key:0},Oe={key:1},ze={class:"disabled"},Fe={key:2,class:"aioseo-seo-site-analysis-all-urls-results__keyword-input"},qe={class:"actions"},Me={__name:"SiteAuditUrlKeywordCell",props:{row:{type:Object,required:!0}},emits:["keywordAdded"],setup(v,{emit:a}){const i="aioseo-pro",l=M(),h=a,c=v,u=K(()=>c.row),x=O(!1),w=O(!1),A={addKeyphrase:o("Add Focus Keyword",i),cancel:o("Cancel",i),add:o("Add",i),addKeyphraseTooltipText:o("You don't have the required permission.",i)};async function P(g){w.value=!0;const n=document.getElementById(`keyword-${g.id}`).querySelector(".add-focus-keyphrase-metabox-input .medium"),S=n?.value.trim();if(!S){w.value=!1;return}const C={keyphrase:S,score:0,analysis:{}};l.doAddFocusKeyword(g.id,C).then(()=>{g.keyphrases.focus=C,n.value="",n.blur()}).catch(z=>{console.error(z)}).finally(()=>{w.value=!1,h("keywordAdded")})}function L(g){g.preventDefault(),x.value=!0;const k=document.getElementById(`keyword-${u.value.id}`);setTimeout(()=>{k?.querySelector(".add-focus-keyphrase-metabox-input input")?.focus()},100)}function U(g,k){const S=document.getElementById(`keyword-${k}`).querySelector(".add-keyphrase");g.preventDefault(),S.click()}return(g,k)=>{const n=q("base-input"),S=q("base-button");return u.value.isTruSeoEligible?(t(),_("div",{key:0,id:`keyword-${u.value.id}`,class:"aioseo-seo-site-analysis-all-urls-results__keyword"},[u.value?.keyphrases?.focus?.keyphrase?(t(),_("span",De,r(u.value.keyphrases.focus.keyphrase),1)):e(ee)("aioseo_page_analysis")?(t(),_("div",Oe,[u.value?.fixLink?d("",!0):(t(),f(e(B),{key:0,placement:"bottom"},{tooltip:s(()=>[T(r(A.addKeyphraseTooltipText),1)]),default:s(()=>[p("span",ze,r(A.addKeyphrase),1)]),_:1})),!x.value&&u.value?.fixLink?(t(),_("button",{key:1,type:"button",class:"add-keyword-btn",onClick:L},r(A.addKeyphrase),1)):d("",!0),x.value&&u.value?.fixLink?(t(),_("div",Fe,[y(n,{size:"medium",class:"add-focus-keyphrase-metabox-input",onKeydown:[k[0]||(k[0]=j(C=>U(C,u.value.id),["enter"])),k[1]||(k[1]=j(C=>x.value=!1,["esc"]))]}),p("div",qe,[y(S,{class:"cancel-add-keyphrase gray small",onClick:k[2]||(k[2]=C=>x.value=!1)},{default:s(()=>[T(r(A.cancel),1)]),_:1}),y(S,{class:"add-keyphrase blue small",loading:w.value,onClick:k[3]||(k[3]=C=>P(u.value))},{default:s(()=>[T(r(A.add),1)]),_:1},8,["loading"])])])):d("",!0)])):d("",!0)],8,Re)):d("",!0)}}},Ee={class:"aioseo-seo-site-analysis-all-urls-results"},Ne={class:"aioseo-seo-site-analysis-all-urls-results__result-count"},je={class:"aioseo-seo-site-analysis-all-urls-results__object-title"},Ge={type:"button"},He=["innerHTML"],Ve={key:0,class:"row-actions"},We={key:0},Ye=["href"],Qe={class:"aioseo-seo-site-analysis-all-urls-results__result-toggle"},H="aioseo-seo-analysis-all-urls-wp-table",Je={__name:"SiteAuditAllUrlsTable",setup(v){const a="all-in-one-seo-pack",i=M(),l=te(),h=O(null),c={viewObject:o("View",a)},{pageNumber:u,searchTerm:x,wpTableKey:w,wpTableLoading:A}=Y({changeItemsPerPageSlug:"seoAnalysis",fetchData:i.fetchAllUrls,tableId:H,tableRef:h.value}),P=K(()=>[{slug:"count",label:"",width:"50px"},{slug:"title",label:o("Title",a),width:"100%"},{slug:"keyword",label:o("Focus Keyword",a),width:"100%"},{slug:"toggle_issues",label:"",width:"50px"}]),L=g=>g.counts?.error?"red":g.counts?.warning?"orange":"green",U=g=>g.counts?.error||g.counts?.warning||0;return(g,k)=>(t(),_("div",Ee,[(t(),f(e(J),{ref:"seoAnalysisAllUrlsTable",class:"posts-table",id:H,columns:P.value,"initial-page-number":e(u),"initial-search-term":e(x),"initial-items-per-page":e(l).settings.tablePagination.seoAnalysis,showBulkActions:!1,"show-items-per-page":"",key:e(w),loading:e(A),rows:e(i).allUrlsResults.rows,totals:e(i).allUrlsResults.totals},{"edit-row":s(({row:n})=>[n?.needsRefresh?d("",!0):(t(),f(e(Pe),{key:0,result:n},null,8,["result"]))]),count:s(({row:n})=>[p("div",Ne,[U(n)?(t(),f(e(ke),{key:0,color:L(n),text:U(n)},null,8,["color","text"])):(t(),_("span",{key:1,class:R(["icon",L(n)])},[y(e(X))],2))])]),title:s(({row:n})=>[p("div",je,[p("button",Ge,[p("span",{innerHTML:e(se)(n.title)},null,8,He)]),n.status?(t(),f(e(Se),{key:0,status:n.status},null,8,["status"])):d("",!0)]),n.permalink?(t(),_("div",Ve,[n.permalink?(t(),_("span",We,[p("a",{class:"view",href:n.permalink,target:"_blank",rel:"noopener noreferrer"},[p("span",null,r(c.viewObject)+" "+r(n.subtype.label),1)],8,Ye)])):d("",!0)])):d("",!0)]),keyword:s(({row:n})=>[(t(),f(e(Me),{key:n.id,row:n,onKeywordAdded:S=>g.keywordAdded(n)},null,8,["row","onKeywordAdded"]))]),toggle_issues:s(()=>[p("div",Qe,[y(e(ye))])]),_:1},8,["columns","initial-page-number","initial-search-term","initial-items-per-page","loading","rows","totals"]))]))}},Xe={key:1,class:"label"},Ze={__name:"SiteAuditGlobalTab",setup(v){const a="all-in-one-seo-pack",i=K(()=>[{slug:"all-urls",label:o("All URLs",a),name:o("All URLs",a)},{slug:"all-checks",label:o("All Checks",a),name:o("All Checks",a)},{slug:"settings-audit",label:o("Settings",a),name:o("Settings",a)}]);return(l,h)=>(t(),_("div",null,[y(e(ie),{tabs:i.value,showSaveButton:!1,active:"all-urls",internal:"","skinny-tabs":""},{"var-tab":s(({tab:c})=>[c?.analyze?(t(),_("span",{key:0,class:R(["icon",c?.analyze?.classColor])},[(t(),f(re(c.icon)))],2)):d("",!0),c?.analyze?(t(),_("span",Xe,r(c.label)+" ("+r(c.analyze.count||0)+") ",1)):d("",!0)]),_:1},8,["tabs"]),y(e(Je),{section:"all-urls"})]))}},et=I(Ze,[["__scopeId","data-v-54a2b11f"]]),tt={class:"aioseo-seo-audit-checklist"},st=["innerHTML"],ot={__name:"SeoSiteAuditUnlicensed",setup(v){const a="all-in-one-seo-pack",i=V(),l={completeSeoChecklist:o("Site Audit Report",a),cardDescription:o("These are the results our SEO Analzyer has generated after analyzing the pages of your website.",a)+" "+W.getDocLink(oe.learnMore,"seoAnalyzer",!0),siteOverview:o("Site Overview",a),totalPostsLabel:o("Total Checks",a),connectWithAioseo:Q(o("Connect with %1$s",a),"AIOSEO")},h=K(()=>ge({good:50,warnings:30,issues:20,total:100}));return(c,u)=>(t(),_("div",tt,[y(e(E),null,{default:s(()=>[y(e(N),{slug:"connectOrScore","no-slide":"",toggles:!1},{header:s(()=>[p("span",null,r(l.siteOverview),1)]),default:s(()=>[y(e(ne),{parts:h.value,total:100,label:l.totalPostsLabel,animatedNumber:!1},null,8,["parts","label"])]),_:1})]),_:1}),e(i).isPro?d("",!0):(t(),f(e(E),{key:0},{default:s(()=>[y(e(N),{slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:s(()=>[p("span",null,r(l.completeSeoChecklist),1),y(e(B),null,{tooltip:s(()=>[p("span",{innerHTML:l.cardDescription},null,8,st)]),default:s(()=>[y(e(Z))]),_:1})]),default:s(()=>[y(e(et))]),_:1})]),_:1})),ue(c.$slots,"upsell",{},void 0,!0)]))}},at=I(ot,[["__scopeId","data-v-a580ad02"]]),$="all-in-one-seo-pack",nt={setup(){return{licenseStore:ae(),rootStore:V(),links:W}},components:{Cta:fe},props:{parentComponentContext:String},data(){return{strings:{ctaHeader:Q(o("Site Audit is a %1$s Feature",$),"PRO"),ctaDescription:o("Discover which posts and terms on your site are facing common SEO issues so you can quickly resolve them in order to get your content back on track.",$),ctaFeatures:[o("Meta Tag Validation",$),o("Keyword Cannibilization",$),o("Focus Keyword Analysis",$),o("Content Analysis",$)],ctaButtonText:o("Unlock Site Audit",$)}}}},it={class:"upsell-header-text"};function lt(v,a,i,l,h,c){const u=q("cta");return t(),f(u,{"cta-link":l.links.getPricingUrl("seo-analysis","site-audit",i.parentComponentContext,l.rootStore.isPro?"pricing":"liteUpgrade"),"button-text":h.strings.ctaButtonText,"learn-more-link":l.links.getUpsellUrl("site-audit",i.parentComponentContext,l.rootStore.isPro?"pricing":"liteUpgrade"),"feature-list":h.strings.ctaFeatures,"hide-bonus":!l.licenseStore.isUnlicensed},{"header-text":s(()=>[p("span",it,r(h.strings.ctaHeader),1)]),description:s(()=>[T(r(h.strings.ctaDescription),1)]),_:1},8,["cta-link","button-text","learn-more-link","feature-list","hide-bonus"])}const rt=I(nt,[["render",lt],["__scopeId","data-v-a33f2ad8"]]),ut={class:"aioseo-seo-analysis__global-site-audit"},ct={__name:"SeoSiteAudit",setup(v){return(a,i)=>(t(),f(e(at),null,{upsell:s(()=>[p("div",ut,[y(e(rt),{"parent-component-context":"modal"})])]),_:1}))}},jt=I(ct,[["__scopeId","data-v-a8edb80d"]]);export{jt as default};
