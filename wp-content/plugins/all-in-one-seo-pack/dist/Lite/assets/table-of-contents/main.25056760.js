const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.__aioseoDynamicImportPreload__("js/vendor-draggable.3c6d8b8e.js"),window.__aioseoDynamicImportPreload__("js/vendor-other.2cdd5822.js"),window.__aioseoDynamicImportPreload__("js/vendor-vue-ui.d70c869f.js"),window.__aioseoDynamicImportPreload__("css/vendor-vue-ui.dbee72c8.css")])))=>i.map(i=>d[i]);
import{h as he,c as ue,d as pe,r as _e}from"../js/utils.60c76300.js";import{f as c,i as m,j as r,M as C,U as v,ae as U,Q as B,R as S,a0 as _,v as b,B as He,T as K,u as we,r as D,b as J,n as Y,as as ge,P as j,C as Ae,aj as Se,O as $e,ad as Be,S as Te,at as ee,ap as te}from"../js/vendor-vue-ui.d70c869f.js";import{b as fe,b0 as W,b1 as oe,_ as Ee,b2 as Ve,b3 as Ie,ay as ie,l as Oe,b4 as Me}from"../js/app-core.61d75c0b.js";import{C as me}from"../js/Tooltip.7f0ce0d2.js";import{S as xe}from"../js/Info.8431990c.js";import{_ as f,a as Q}from"../js/vendor-other.2cdd5822.js";import{B as ne}from"../js/Input.74b8f197.js";import{S as Le}from"../js/Close.cee3494e.js";import{S as Re}from"../js/Drag.b6aceda0.js";import{S as ze}from"../js/Eye.a60cee82.js";import{_ as Ne}from"../js/_plugin-vue_export-helper.eefbdd86.js";import{S as De}from"../js/Link.526e0dc9.js";import{C as qe}from"../js/Index.67f2fc23.js";import{_ as le}from"../js/Button.7fa2ada4.js";import"../js/vendor-datetime.430013a3.js";import"../js/vendor-lodash.f9514987.js";import"../js/Index.104764b8.js";import"../js/Pencil.acabfd26.js";import"../js/Trash.effd183e.js";const Fe=he`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0zm0 0h24v24H0V0z" fill="none"/><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"/></svg>
`,Pe="aioseo/table-of-contents",Ze="AIOSEO - Table of Contents",Ue="Automatically output a table of contents (TOC) for long posts or pages (and custom post types).",je="layout",Qe={listStyle:{type:"string",default:"ul"},collapsibleType:{type:"string",default:"off"},collapsed:{type:"boolean",default:!1},collapsedTitle:{type:"string",default:"Show Table of Contents"},expandedTitle:{type:"string",default:"Hide Table of Contents"},mode:{type:"string",default:null},headings:{type:"array",items:{type:"object"},default:[]},reOrdered:{type:"boolean",default:!1}},Ge={multiple:!0,html:!1,reusable:!1,align:["wide","full"]},Je={name:Pe,title:Ze,description:Ue,category:je,attributes:Qe,supports:Ge},Ye={class:"aioseo-toc-header"},Ke={class:"aioseo-toc-header-title"},We={key:0,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Xe={key:1,width:"14",height:"2",viewBox:"0 0 14 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},et={key:1},tt={class:"aioseo-toc-header-info"},ot={key:0,class:"aioseo-toc-header-instructions"},it={key:1,class:"aioseo-toc-header-buttons"},se={__name:"Header",props:{blockAttributes:{type:Object,required:!0},loadActions:{type:Boolean,default:!1}},emits:["showModal"],setup(t,{emit:o}){const e="all-in-one-seo-pack",n=o,l=t,s={header:Q(f("%1$s Table of Contents",e),"AIOSEO"),instructions:f("Add a heading block below to begin generating the Table of Contents.",e),tooltipMainDescription:Q(f("%1$s can automatically output a table of contents based on your heading tags below. Search engines sometimes use table of contents in search results or rich snippets which can help you increase your rankings.",e),"AIOSEO"),reorder:f("Reorder",e),save:f("Save",e)},g=we(()=>l.blockAttributes.collapsibleType==="off"?"":l.blockAttributes.collapsed?l.blockAttributes.collapsedTitle:l.blockAttributes.expandedTitle),a=()=>{window.wp.data.dispatch("core/block-editor").selectBlock(null),document?.activeElement?.blur()},h=()=>{const k=!l.blockAttributes.collapsed;l.blockAttributes.collapsed=k,window.wp.data.dispatch("core/block-editor").updateBlockAttributes(l.clientId,{...l.blockAttributes,collapsed:k})};return(k,$)=>(c(),m("header",Ye,[r("div",Ke,[t.blockAttributes.collapsibleType==="open"||t.blockAttributes.collapsibleType==="closed"?(c(),m("div",{key:0,class:"aioseo-toc-header-collapsible",onClick:h},[t.blockAttributes.collapsed?(c(),m("svg",We,[...$[1]||($[1]=[r("path",{d:"M6 8H0V6H6V0H8V6H14V8H8V14H6V8Z",fill:"#005AE0"},null,-1)])])):(c(),m("svg",Xe,[...$[2]||($[2]=[r("path",{d:"M0 2V0H14V2H0Z",fill:"#005AE0"},null,-1)])]))])):C("",!0),t.blockAttributes.collapsibleType==="off"?(c(),m("span",et,v(s.header),1)):C("",!0),U(" "+v(g.value)+" ",1),t.loadActions?(c(),B(b(me),{key:2},{tooltip:S(()=>[He(k.$slots,"tooltip",{},()=>[U(v(s.tooltipMainDescription),1)])]),default:S(()=>[r("div",tt,[_(b(xe))])]),_:3})):C("",!0)]),t.blockAttributes?.headings?.length===0&&t.loadActions?(c(),m("div",ot,v(s.instructions),1)):C("",!0),t.blockAttributes?.headings?.length!==0&&t.loadActions?(c(),m("div",it,[r("a",{class:"aioseo-button-link",href:"#",onClick:$[0]||($[0]=K(q=>n("showModal"),["prevent"]))},v(s.reorder),1),r("a",{class:"aioseo-button-link aioseo-button-link--primary",href:"#",onClick:K(a,["prevent"])},v(s.save),1)])):C("",!0)]))}},nt={},lt={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-eye-off"};function st(t,o){return c(),m("svg",lt,[...o[0]||(o[0]=[r("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"},null,-1),r("path",{d:"M12 6a9.77 9.77 0 0 1 8.82 5.5 9.647 9.647 0 0 1-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6zm-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14zM2.01 3.87l2.68 2.68A11.738 11.738 0 0 0 1 11.5C2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45 2.01 3.87zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02a2.5 2.5 0 0 1-2.5-2.5c0-.05.01-.08.01-.13zm-3.4-3.4 1.75 1.75a4.6 4.6 0 0 0-.36 1.78 4.507 4.507 0 0 0 6.27 4.14l.98.98c-.88.24-1.8.38-2.75.38a9.77 9.77 0 0 1-8.82-5.5c.7-1.43 1.72-2.61 2.93-3.53z",fill:"currentColor"},null,-1)])])}const rt=Ne(nt,[["render",st]]),ct={class:"aioseo-toc-list-item__inner"},at={key:0,class:"aioseo-drag-handle has-icon"},dt={class:"append-icon"},ht={class:"aioseo-tooltip__header"},ut=["onClick"],ye={__name:"List",props:{headings:{required:!0,type:Array},clientId:{required:!0,type:String},allowReorder:{required:!1,type:Boolean,default:!1},group:{required:!1,type:String,default:"description"},parentBlockId:{required:!1,type:String,default:""}},setup(t){const o=Se(()=>Ee(()=>import("../js/vendor-draggable.3c6d8b8e.js").then(p=>p.v),__vite__mapDeps([0,1,2,3]),import.meta.url)),e="all-in-one-seo-pack",n=t,l=fe(),s=D(window.wp.data.select("core/block-editor").getBlockAttributes(n.clientId)),g={tooltipHeader:f("Edit HTML Anchor:",e),tooltipDescription:Q(f("The HTML anchor allows %1$s to link directly to your header from this table of contents block. Feel free to edit if you want, but an anchor is required. For headings without an anchor, %1$s will automatically generate them.",e),"AIOSEO")},a=we(()=>({tag:s.value.listStyle,animation:300,group:n.group,disabled:!n.allowReorder,ghostClass:"aioseo-drag-ghost",dragClass:"aioseo-dragging"})),h=(p,u)=>{u.editedContent=p===u.content?"":ue(p,!0,!1),window.wp.data.dispatch("core/block-editor").updateBlockAttributes(n.clientId,{...s.value,headings:n.headings})},k=p=>(p.blockClientId===n.parentBlockId?p.headings=oe(p.headings,p.editedOrder):p.headings.map(k),p),$=p=>{if(s.value.reOrdered=!0,!p?.moved?.element)return;const x=pe(s.value.headings),i=oe(x.map(k));window.wp.data.dispatch("core/block-editor").updateBlockAttributes(n.clientId,{...s.value,headings:i})},q=(p,u)=>{const x=u.blockClientId;if(window.wp.data.select("core/block-editor").getBlock(x)){if(u.anchor=W(p),!p){const d=window.wp.data.select("core/block-editor").getBlockIndex(x);u.anchor=l.aioseo.data.blocks.toc.hashPrefix+W(`${u.content}-${d}`)}window.wp.data.dispatch("core/block-editor").updateBlockAttributes(x,{anchor:u.anchor})}},F=(p,u)=>p?.map(x=>x.content===u.content&&x.level===Number(u.level)&&x.anchor===u.anchor?u:x.headings?F(x.headings,u):x),P=p=>{if(p.hidden=!p.hidden,n.group==="nested"){window.wp.data.dispatch("core/block-editor").updateBlockAttributes(n.clientId,s.value);return}window.wp.data.dispatch("core/block-editor").updateBlockAttributes(n.clientId,F(s.value.headings,p))},z=p=>{const u=p.target.closest(".aioseo-toc-list-item"),x=u?.querySelector(".row-input--anchor input");x&&(u.classList.contains("anchor-edit")?(u.classList.add("anchor-is-animating"),u.classList.remove("anchor-edit"),u.classList.remove("done"),x.addEventListener("animationend",function i(){u.classList.remove("anchor-is-animating"),u.removeEventListener("animationend",i,!1)})):(x.focus({preventScroll:!0}),u.classList.add("anchor-edit","anchor-is-animating"),x.addEventListener("animationend",function i(){u.classList.remove("anchor-is-animating"),u.classList.add("done"),x.removeEventListener("animationend",i,!1)})))};return J(()=>{Y(()=>{window.aioseoBus.$on("updateToc"+n.clientId,()=>{s.value=window.wp.data.select("core/block-editor").getBlockAttributes(n.clientId)})})}),(p,u)=>{const x=ge("List",!0);return c(),B(b(o),Ae({class:["aioseo-toc-list",[{orderable:t.allowReorder}]]},a.value,{handle:".aioseo-drag-handle",list:n.headings,onChange:u[0]||(u[0]=i=>$(i)),"item-key":i=>i?.id||i.blockClientId}),{item:S(({element:i})=>[r("li",{class:j(["aioseo-toc-list-item",{"heading-hidden":i.hidden}])},[r("div",ct,[t.allowReorder?(c(),m("button",at,[_(b(Re))])):C("",!0),_(b(ne),{class:"row-input row-input--content",modelValue:i.editedContent||i.content,"onUpdate:modelValue":d=>h(d,i),placeholder:i.content},{"append-icon":S(()=>[t.allowReorder?C("",!0):(c(),m("div",{key:0,class:"append-icon",onClick:z},[_(b(De))]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder"]),t.allowReorder?C("",!0):(c(),B(b(ne),{key:1,class:"row-input row-input--anchor",spellcheck:!1,modelValue:i.anchor,"onUpdate:modelValue":d=>q(d,i)},{"append-icon":S(()=>[r("div",dt,[_(b(me),null,{tooltip:S(()=>[r("p",ht,v(g.tooltipHeader),1),r("p",null,v(g.tooltipDescription),1)]),default:S(()=>[r("div",null,[_(b(xe))])]),_:1}),r("div",{onClick:z},[_(b(Le))])])]),_:1},8,["modelValue","onUpdate:modelValue"])),t.allowReorder?C("",!0):(c(),m("button",{key:2,class:j([{active:i.hidden},"aioseo-hide-heading-toggle","has-icon"]),onClick:d=>P(i)},[i.hidden?(c(),B(b(rt),{key:0})):(c(),B(b(ze),{key:1}))],10,ut)),i.headings?(c(),B(x,{key:3,class:"aioseo-toc-list-nested",headings:i.headings,"parent-block-id":i.blockClientId,allowReorder:t.allowReorder,"client-id":t.clientId,group:i.anchor},null,8,["headings","parent-block-id","allowReorder","client-id","group"])):C("",!0)])],2)]),_:1},16,["class","list","item-key"])}}},pt=["href"],wt={__name:"ListRendered",props:{headings:{required:!0,type:Array},clientId:{required:!0,type:String}},setup(t){const o=t,e=D(window.wp.data.select("core/block-editor").getBlockAttributes(o.clientId));return J(()=>{Y(()=>{window.aioseoBus.$on("updateToc"+o.clientId,()=>{e.value=window.wp.data.select("core/block-editor").getBlockAttributes(o.clientId)})})}),(n,l)=>{const s=ge("ListRendered",!0);return c(),m("div",null,[(c(),B(Te(e.value.listStyle),{class:"aioseo-toc-list--rendered"},{default:S(()=>[(c(!0),m($e,null,Be(t.headings,(g,a)=>(c(),m("li",{class:j(["aioseo-toc-list-item--rendered",[{hidden:g.hidden}]]),key:a},[r("a",{href:`#${g.anchor}`},v(g.editedContent||g.content),9,pt),g.headings?(c(),B(s,{key:0,class:"aioseo-toc-list-nested--rendered",headings:g.headings,"client-id":t.clientId},null,8,["headings","client-id"])):C("",!0)],2))),128))]),_:1}))])}}},gt={class:"aioseo-toc-header"},ft={class:"aioseo-toc-header-title"},mt={class:"aioseo-toc-header-buttons"},xt={__name:"Reorder",props:{headings:Array,show:Boolean,clientId:String},emits:["closeModal"],setup(t){const o="all-in-one-seo-pack",e={header:Q(f("%1$s Table of Contents",o),"AIOSEO"),done:f("Done",o)};return(n,l)=>(c(),B(b(qe),{show:t.show,noHeader:"",classes:["aioseo-toc-modal"],onClose:l[1]||(l[1]=s=>n.$emit("closeModal"))},{body:S(()=>[r("header",gt,[r("div",ft,v(e.header),1),r("div",mt,[r("a",{class:"aioseo-button-link aioseo-button-link--primary",href:"#",onClick:l[0]||(l[0]=K(s=>n.$emit("closeModal"),["prevent"]))},v(e.done),1)])]),_(b(ye),{headings:t.headings,"client-id":t.clientId,allowReorder:""},null,8,["headings","client-id"])]),_:1},8,["show"]))}},yt={class:"aioseo-toc-container"},bt={key:0},vt={key:0,class:"aioseo-toc-content"},kt={key:0,class:"aioseo-toc-rendered"},Ct={key:0},_t={__name:"App",props:{clientId:{type:String,required:!0}},setup(t){const o=t,e=D(window.wp.data.select("core/block-editor").getBlockAttributes(o.clientId)),n=D(!1);return J(()=>{Y(()=>{window.aioseoBus.$on("updateToc"+o.clientId,()=>{e.value=window.wp.data.select("core/block-editor").getBlockAttributes(o.clientId)})})}),(l,s)=>(c(),m("div",yt,[r("div",{class:j(["aioseo-toc-menu",{"aioseo-toc-placeholder":e.value?.headings?.length===0}])},[_(b(se),{"block-attributes":e.value,"load-actions":!0,onShowModal:s[0]||(s[0]=g=>n.value=!0)},null,8,["block-attributes"]),e.value.collapsed?C("",!0):(c(),m("div",bt,[e.value?.headings?.length!==0?(c(),m("div",vt,[_(b(ye),{headings:e.value?.headings,"client-id":t.clientId},null,8,["headings","client-id"])])):C("",!0)])),_(b(xt),{show:n.value,headings:e.value?.headings,"client-id":t.clientId,onCloseModal:s[1]||(s[1]=g=>n.value=!1)},null,8,["show","headings","client-id"])],2),e.value?.headings?.length!==0?(c(),m("div",kt,[_(b(se),{"block-attributes":e.value},null,8,["block-attributes"]),e.value.collapsed?C("",!0):(c(),m("div",Ct,[_(b(wt),{headings:e.value?.headings,"client-id":t.clientId},null,8,["headings","client-id"])]))])):C("",!0)]))}},Ht={class:"aioseo-toc-select-mode"},At={class:"aioseo-toc-header-title"},St={class:"aioseo-toc-select-mode__collapsible"},$t={key:0,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Bt={key:1,width:"14",height:"2",viewBox:"0 0 14 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Tt={key:0},Et={key:1},Vt={key:0},It={class:"aioseo-toc-select-mode__description"},Ot={class:"aioseo-toc-select-mode__selectors"},Mt={class:"aioseo-toc-select-mode__selector"},Lt={class:"aioseo-toc-select-mode__selector-title"},Rt={class:"aioseo-toc-select-mode__selector-description"},zt={class:"aioseo-toc-select-mode__selector"},Nt={class:"aioseo-toc-select-mode__selector-title"},Dt={class:"aioseo-toc-select-mode__selector-description"},qt={__name:"SelectMode",props:{clientId:{type:String,required:!0}},setup(t){const o="all-in-one-seo-pack",e=t,n=D(window.wp.data.select("core/block-editor").getBlockAttributes(e.clientId)),l={showTableOfContents:f("Show Table of Contents",o),hideTableOfContents:f("Hide Table of Contents",o),description:f("Choose whether you want this table of contents to be standalone or synced. You can change these block settings later from the block panel.",o),standaloneTitle:f("Standalone",o),standaloneDescription:f("Each ToC block acts independently, showing the same headings across all blocks for a unified navigation.",o),syncedTitle:f("Synced",o),syncedDescription:f("Multiple ToC blocks working together, pointing to different sections of your content with their own headings.",o),enableStandalone:f("Enable Standalone",o),enableSynced:f("Enable Synced",o)},s=a=>{window.wp.data.dispatch("core/block-editor").updateBlockAttributes(e.clientId,{mode:a})},g=()=>{const a=!n.value.collapsed;n.value.collapsed=a,window.wp.data.dispatch("core/block-editor").updateBlockAttributes(e.clientId,{collapsed:a})};return J(()=>{Y(()=>{window.aioseoBus.$on("updateToc"+e.clientId,()=>{n.value=window.wp.data.select("core/block-editor").getBlockAttributes(e.clientId)})})}),(a,h)=>(c(),m("div",Ht,[r("div",At,[r("div",St,[r("div",{class:"aioseo-toc-header-collapsible",onClick:g},[n.value.collapsed?(c(),m("svg",$t,[...h[2]||(h[2]=[r("path",{d:"M6 8H0V6H6V0H8V6H14V8H8V14H6V8Z",fill:"#005AE0"},null,-1)])])):(c(),m("svg",Bt,[...h[3]||(h[3]=[r("path",{d:"M0 2V0H14V2H0Z",fill:"#005AE0"},null,-1)])]))]),r("p",null,[n.value.collapsed?(c(),m("span",Tt,v(l.showTableOfContents),1)):(c(),m("span",Et,v(l.hideTableOfContents),1))])])]),n.value.collapsed?C("",!0):(c(),m("div",Vt,[r("p",It,v(l.description),1),r("div",Ot,[r("div",Mt,[h[4]||(h[4]=ee('<div class="aioseo-toc-select-mode__selector-icon"><svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_171_2017)"><rect width="37.3333" height="37.3333" rx="2" fill="#1A82EA"></rect><rect x="7.29712" y="7.81384" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="7.29712" y="12.5684" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="7.29712" y="17.3229" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="7.29712" y="22.0774" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="7.29736" y="26.8322" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="12.0515" y="7.81384" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="12.0515" y="12.5684" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="12.0515" y="17.3229" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="12.0515" y="22.0774" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="12.0513" y="26.8322" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="19" y="19" width="37.3333" height="37.3333" rx="2" fill="white"></rect><rect x="22" y="22" width="37.3333" height="37.3333" rx="2" fill="#80B2FF"></rect><rect x="29.2971" y="29.814" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="29.2971" y="34.5685" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="29.2971" y="39.3229" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="29.2971" y="44.0774" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="29.2971" y="48.8322" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="34.0518" y="29.814" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="34.0518" y="34.5685" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="34.0518" y="39.3229" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="34.0518" y="44.0774" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="34.0518" y="48.8322" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="39.6667" y="39.6666" width="37.3333" height="37.3333" rx="2" fill="white"></rect><rect x="42.6667" y="42.6666" width="37.3333" height="37.3333" rx="2" fill="#99C2FF"></rect><rect x="49.9641" y="50.4806" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="49.9641" y="55.2351" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="49.9641" y="59.9896" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="49.9641" y="64.7441" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="49.9641" y="69.4985" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="54.7185" y="50.4806" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="54.7185" y="55.2351" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="54.7185" y="59.9896" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="54.7185" y="64.7441" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="54.7185" y="69.4985" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect></g><defs><clipPath id="clip0_171_2017"><rect width="80" height="80" fill="white"></rect></clipPath></defs></svg></div>',1)),r("h3",Lt,v(l.standaloneTitle),1),r("p",Rt,v(l.standaloneDescription),1),_(b(le),{type:"blue",onClick:h[0]||(h[0]=k=>s("standalone")),size:"base"},{default:S(()=>[U(v(l.enableStandalone),1)]),_:1})]),r("div",zt,[h[5]||(h[5]=ee('<div class="aioseo-toc-select-mode__selector-icon"><svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_171_2066)"><path d="M9.8667 40V13.6C9.8667 11.3908 11.6576 9.59998 13.8667 9.59998H66.6667C68.8758 9.59998 70.6667 11.3908 70.6667 13.6V66.4C70.6667 68.6091 68.8758 70.4 66.6667 70.4H40.2667" stroke="#141B38" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="1 2.4"></path><rect y="24.8063" width="37.0026" height="37.416" rx="2" fill="#1A82EA"></rect><rect x="7.13159" y="32.6615" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="7.13159" y="37.416" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="7.13159" y="42.1705" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="7.13159" y="46.925" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="7.13159" y="51.6797" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="11.8862" y="32.6615" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="11.8862" y="37.416" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="11.8862" y="42.1705" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="11.8862" y="46.925" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="11.8862" y="51.6797" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="42.9331" width="37.0026" height="37.416" rx="2" fill="#80B2FF"></rect><rect x="50.0647" y="7.85522" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="50.0649" y="12.6097" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="50.0649" y="17.3641" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="50.0649" y="22.1187" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="50.0649" y="26.8734" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="54.8193" y="7.85522" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="54.8191" y="12.6097" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="54.8191" y="17.3641" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="54.8191" y="22.1187" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="54.8191" y="26.8734" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="21.2666" y="39.1334" width="37.0667" height="37.8667" rx="2" fill="white"></rect><rect x="28.4304" y="47.214" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="28.4304" y="51.9685" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="28.4304" y="56.7231" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="28.4304" y="61.4777" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="28.4304" y="66.2322" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="33.1851" y="47.214" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="33.1853" y="51.9685" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="33.1853" y="56.7231" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="33.1853" y="61.4777" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="33.1853" y="66.2322" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="24.2666" y="42.1334" width="37.0667" height="37.8667" rx="2" fill="#99C2FF"></rect><rect x="31.4304" y="50.214" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="31.4304" y="54.9685" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="31.4304" y="59.7231" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="31.4304" y="64.4777" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="31.4304" y="69.2322" width="2.68734" height="2.68734" rx="1.34367" fill="white"></rect><rect x="36.1851" y="50.214" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="36.1853" y="54.9685" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="36.1853" y="59.7231" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="36.1853" y="64.4777" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><rect x="36.1853" y="69.2322" width="17.9845" height="2.68734" rx="0.413437" fill="white"></rect><circle cx="26" cy="10" r="7" fill="#00AA63"></circle><path d="M22.6667 13.3333V12.5H23.8126L23.6459 12.3541C23.2848 12.0347 23.0313 11.6701 22.8855 11.2604C22.7397 10.8507 22.6667 10.4375 22.6667 10.0208C22.6667 9.24996 22.8977 8.5642 23.3595 7.9635C23.8213 7.36281 24.4237 6.96524 25.1667 6.77079V7.64579C24.6667 7.82635 24.264 8.13364 23.9584 8.56767C23.6529 9.0017 23.5001 9.48607 23.5001 10.0208C23.5001 10.3333 23.5591 10.6371 23.6772 10.9323C23.7952 11.2274 23.9792 11.5 24.2292 11.75L24.3334 11.8541V10.8333H25.1667V13.3333H22.6667ZM26.8334 13.2291V12.3541C27.3334 12.1736 27.7362 11.8663 28.0417 11.4323C28.3473 10.9982 28.5001 10.5138 28.5001 9.97913C28.5001 9.66663 28.4411 9.36281 28.323 9.06767C28.2049 8.77253 28.0209 8.49996 27.7709 8.24996L27.6667 8.14579V9.16663H26.8334V6.66663H29.3334V7.49996H28.1876L28.3542 7.64579C28.6945 7.98607 28.9428 8.35586 29.099 8.75517C29.2553 9.15447 29.3334 9.56246 29.3334 9.97913C29.3334 10.75 29.1025 11.4357 28.6407 12.0364C28.1789 12.6371 27.5765 13.0347 26.8334 13.2291Z" fill="white"></path><circle cx="71" cy="55" r="7" fill="#00AA63"></circle><path d="M67.6667 58.3333V57.5H68.8126L68.6459 57.3541C68.2848 57.0347 68.0313 56.6701 67.8855 56.2604C67.7397 55.8507 67.6667 55.4375 67.6667 55.0208C67.6667 54.25 67.8977 53.5642 68.3595 52.9635C68.8213 52.3628 69.4237 51.9652 70.1667 51.7708V52.6458C69.6667 52.8263 69.264 53.1336 68.9584 53.5677C68.6529 54.0017 68.5001 54.4861 68.5001 55.0208C68.5001 55.3333 68.5591 55.6371 68.6772 55.9323C68.7952 56.2274 68.9792 56.5 69.2292 56.75L69.3334 56.8541V55.8333H70.1667V58.3333H67.6667ZM71.8334 58.2291V57.3541C72.3334 57.1736 72.7362 56.8663 73.0417 56.4323C73.3473 55.9982 73.5001 55.5138 73.5001 54.9791C73.5001 54.6666 73.4411 54.3628 73.323 54.0677C73.2049 53.7725 73.0209 53.5 72.7709 53.25L72.6667 53.1458V54.1666H71.8334V51.6666H74.3334V52.5H73.1876L73.3542 52.6458C73.6945 52.9861 73.9428 53.3559 74.099 53.7552C74.2553 54.1545 74.3334 54.5625 74.3334 54.9791C74.3334 55.75 74.1025 56.4357 73.6407 57.0364C73.1789 57.6371 72.5765 58.0347 71.8334 58.2291Z" fill="white"></path></g><defs><clipPath id="clip0_171_2066"><rect width="80" height="80" fill="white"></rect></clipPath></defs></svg></div>',1)),r("h3",Nt,v(l.syncedTitle),1),r("p",Dt,v(l.syncedDescription),1),_(b(le),{type:"blue",onClick:h[1]||(h[1]=k=>s("synced")),size:"base"},{default:S(()=>[U(v(l.enableSynced),1)]),_:1})])])]))]))}},Ft=window.wp,{CheckboxControl:Pt,SelectControl:re,TextControl:ce}=Ft.components,L="all-in-one-seo-pack",Zt=t=>{const{setAttributes:o,attributes:{listStyle:e,collapsibleType:n,collapsedTitle:l,mode:s,expandedTitle:g},clientId:a}=t;return React.createElement(React.Fragment,null,React.createElement(re,{label:f("List Style",L),options:[{label:"Bullets",value:"ul"},{label:"Numbers",value:"ol"}],value:e,onChange:h=>{o({listStyle:h}),window.aioseoBus.$emit("updateToc"+a)},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),React.createElement(re,{label:f("Collapsible",L),options:[{label:"Off",value:"off"},{label:"On - Open by default",value:"open"},{label:"On - Closed by default",value:"closed"}],value:n,onChange:h=>{o({collapsibleType:h}),window.aioseoBus.$emit("updateToc"+a)},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),n!=="off"&&React.createElement(ce,{label:f("Collapsed Title",L),value:l,onChange:h=>{o({collapsedTitle:h}),window.aioseoBus.$emit("updateToc"+a)},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),n!=="off"&&React.createElement(ce,{label:f("Expanded Title",L),value:g,onChange:h=>{o({expandedTitle:h}),window.aioseoBus.$emit("updateToc"+a)},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),React.createElement(Pt,{label:f("Synced Table of Contents",L),help:f("Syncing table of contents enables you to build one unified table of contents for documents with multiple sections, even using separate ToC blocks.",L),checked:s==="synced",onChange:()=>{o({mode:s==="synced"?"standalone":"synced"}),window.aioseoBus.$emit("updateToc"+a)},__nextHasNoMarginBottom:!0}))},Ut="all-in-one-seo-pack",V=window.wp,{useState:jt,useEffect:ae}=V.element,{InspectorControls:Qt}=V.blockEditor,{PanelBody:Gt}=V.components,{useSelect:Jt}=V.data,be=V.blockEditor.store,{isTyping:Yt}=V.data.select(be)||{isTyping:()=>null},G={HEADING:"core/heading",FAQ:"aioseo/faq",TOC:"aioseo/table-of-contents"},R=new Map;let N=[],Z=null;const Kt=t=>t.question||t.content?.text||t.content||"",Wt=(t,o,e)=>typeof t=="string"&&t!==""&&o<=e,Xt=(t,o,e,n=[],l)=>{const s=typeof t?.anchor=="string"&&t.anchor!=="",g=t.level||t.tagName.replace("h","");if(g==="div")return null;let a=Kt(t);if(!Wt(a,e,o))return null;if(a=ue(a.replace(/(<br *\/?>)+/g," "),!0),!s&&!Yt()){const k=fe();t.anchor=k.aioseo.data.blocks.toc.hashPrefix+W(`${a}-${o}`)}const h=n.find(k=>k.content===a&&k.level===Number(g)&&k.anchor===(s?t.anchor:""));return{id:o,content:a,level:Number(g),anchor:s?t.anchor:"",editedOrder:h?.editedOrder??o,hidden:h?.hidden||!1,blockClientId:l}},eo=(t,o,e,n,l)=>{if(window.wp.data.select(be).getBlockAttributes(t)?.mode!=="synced"||G.TOC!==n)return o.slice(e).map(a=>a);const g=to(o,e,l);return g===-1?o.slice(e).map(a=>a):o.slice(e,g).map(a=>a)},to=(t,o,e)=>{const l=t.slice(o+1).findIndex(s=>G.TOC===e(s));return l===-1?-1:o+1+l},oo=({setAttributes:t,attributes:o,clientId:e,className:n,isSelected:l})=>{const{headings:s=[]}=o,[g,a]=jt(o?.headings||[]),h=Ve(),k=window.wp.data.subscribe(()=>{if(!window.wp.data.select("core/block-editor").getBlock(e)){const d=R.get(e);d?.mainApp&&d.mainApp.unmount(),d?.selectedModeApp&&d.selectedModeApp.unmount(),R.delete(e),h.removeClientId(e),N=N.filter(y=>y!==e),k()}}),$=`aioseo-mode-selection-${e}`,q=Jt(i=>{const{getEditedPostAttribute:d}=i("core/editor");return d("content")},[]),F=()=>{const{getBlockAttributes:i,getBlockName:d,getBlocks:y}=V.data.select("core/block-editor"),w=y(),H=[],A=M=>{M.forEach(E=>{H.push(E.clientId),E.innerBlocks&&0<E.innerBlocks.length&&A(E.innerBlocks)})};A(w);const T=H.indexOf(e),I=eo(e,H,T,d(e),d),O=[];return I.forEach(M=>{const E=d(M);if(G.HEADING!==E&&G.FAQ!==E)return[];const ke=i(M),Ce=H.indexOf(M),X=Xt(ke,Ce,T,g,M);X&&O.push(X)}),O},P=i=>!i||!Array.isArray(i)?i:[...i].sort((y,w)=>y.editedOrder-w.editedOrder).map(y=>({...y,headings:P(y.headings)})),z=i=>!i||!Array.isArray(i)?[]:[...i].sort((d,y)=>{const w=d.content.toLowerCase().localeCompare(y.content.toLowerCase());return w!==0?w:d.level!==y.level?d.level-y.level:(d.anchor||"").localeCompare(y.anchor||"")}),p=()=>{const i=Me(pe(s||[])),y=F().map((A,T)=>{const I=i.find(O=>O.content===A.content&&O.level===Number(A.level)&&O.anchor===A.anchor);return{content:A.content,level:A.level,anchor:A.anchor,blockClientId:A.blockClientId,hidden:I?.hidden||!1,editedContent:I?.editedContent??"",editedOrder:I?.editedOrder??T+1,headings:I?.headings||[]}}),w=[],H=[];return y.forEach(A=>{for(;0<H.length&&H[H.length-1].level>=A.level;)H.pop();const T={...A,headings:[]};H.length===0?w.push(T):H[H.length-1].headings.push(T),H.push(T)}),o?.reOrdered?P(w):w},u=()=>{const i=p();if(i.length===0)return;const d=z(i)?.map(w=>({content:w.content,level:w.level,anchor:w.anchor,blockClientId:w.blockClientId,hidden:w.hidden,editedContent:w.editedContent})),y=z(s)?.map(w=>({content:w.content,level:w.level,anchor:w.anchor,blockClientId:w.blockClientId,hidden:w.hidden,editedContent:w.editedContent}));JSON.stringify(d)!==JSON.stringify(y)&&(a(i),t({headings:i}),window.aioseoBus.$emit("updateToc"+e))},x=()=>{const i=`aioseo-${e}`,d=document.getElementById(i);(!N.includes(e)||d&&!d.firstChild)&&(l||document.querySelector(`[data-block="${e}"]`))&&(N.includes(e)||N.push(e),h.addClientId(e),ie({id:i,parent:document.querySelector(".block-editor"),subtree:!0,done:function(y){const w=R.get(e);w&&w.unmount(),Z=te({..._t,name:"Blocks/TableOfContents",props:["clientId"]},{clientId:e}),Oe(Z),Z.mount(y),R.set(e,Z)}}))};return x(),ae(()=>{o?.mode===null&&h.clientIds.length===1&&t({mode:Ie.STANDALONE}),u()},[q,o]),ae(()=>{x()},[o,e]),o?.mode?React.createElement("div",{className:n},React.createElement("div",{id:`aioseo-${e}`}),React.createElement(Qt,null,React.createElement(Gt,{title:f("Table of Contents Settings",Ut)},React.createElement(Zt,{attributes:o,setAttributes:t,clientId:e})))):(ie({id:$,parent:document.querySelector(".block-editor"),subtree:!0,done:function(i){const d=R.get(e);d&&d.unmount();const y=te({...qt,name:"Blocks/TableOfContents",props:["clientId"]},{clientId:e});y.mount(i),R.set(e,y)}}),React.createElement("div",{className:n},React.createElement("div",{id:`aioseo-mode-selection-${e}`})))},{RawHTML:de}=window.wp.element,io=({attributes:{headings:t,listStyle:o}})=>{if(!t)return"";const e=ve(t,o);return he`<${de}>${e}</${de}>`},ve=(t,o)=>{let e=`<${o}>`;return t.forEach(n=>{if(n.hidden)return;let l="<li>";const s=n.editedContent||n.content;l+=`<a href="#${n.anchor}">${s}</a>`,n.headings?.length&&(l+=ve(n.headings,o)),l+="</li>",e+=l}),e+=`</${o}>`,e},{name:no,title:lo,description:so,category:ro,supports:co,attributes:ao}=Je,ho={title:lo,description:so,category:ro,supports:co,attributes:ao,icon:Fe,edit:oo,save:io};_e({name:no,settings:ho});
